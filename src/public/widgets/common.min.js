"use strict";
PULSE.app.templates.loader = "", PULSE.app.templates.pagination = '<div class="paginationBtn paginationPreviousContainer"> <div class="icn chevron-left"></div> <div class="visuallyHidden">Previous</div> </div> <div class="paginationBtn paginationNextContainer inactive"> <div class="icn chevron-rightblack-normal"></div> <div class="visuallyHidden">Next</div> </div>', PULSE.app.templates.playerCardLoader = '<li class="statsCard statsCard--skeleton"> <ul class="statsList"> <li class="statsHero"></li> <li class="statsRow"></li> </ul> <span class="statsLink"></span> </li>', PULSE.app.templates.thumbnailLoader = '{{#totalResults}} <li> <div class="thumbnail placeholder thumbnail--skeleton {{cssClass}}"> <figure> <span class="image"></span> <figcaption> <span class="tag"></span> <span class="title"> </span> <span class="text"></span> </figcaption> </figure> </div> </li> {{/totalResults}}', PULSE.app.templates.commonmatchbroadcaster = '{{#multipleBroadcasters}} <div class="broadcasterContainer"> {{#fixtureHasLiveStream}} <div class="liveStream js-multipleBroadcasters-{{fixtureId}}"> <svg class="liveStream__play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 40"> <path d="M0 3.29C0 .743 2.805-.835 5.017.468l28.361 16.71c2.163 1.273 2.163 4.373 0 5.645L5.018 39.533C2.804 40.836 0 39.257 0 36.709V3.291z"/> </svg> </div> {{/fixtureHasLiveStream}} <div class="multipleBroadcastersContainer"> <span class="multipleBroadcastersButton js-multipleBroadcasters-{{fixtureId}}" tabindex="0"> <span class="icn tv-sm"></span> {{ multipleBroadcasters }}<span class="visuallyHidden">Open multiple broadcasters modal</span> </span> </div> </div> {{/multipleBroadcasters}} {{^multipleBroadcasters}} {{#broadcasters}} <div class="broadcasterContainer {{ #broadcasterSize }}broadcasterContainer__multiple{{/broadcasterSize}}"> {{#liveStreaming.broadcasterHasLiveStream}} <div class="liveStream-play-container"> <div class="liveStream"> <svg class="liveStream__play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 40"> <path d="M0 3.29C0 .743 2.805-.835 5.017.468l28.361 16.71c2.163 1.273 2.163 4.373 0 5.645L5.018 39.533C2.804 40.836 0 39.257 0 36.709V3.291z"/> </svg> </div> </div> {{/liveStreaming.broadcasterHasLiveStream}} <span class="logo broadcaster-image-container"> <img class="broadcaster-image js-broadcaster-logo" src="{{ logoSrc }}" srcset="{{ logoSrc }}, {{ logoSrcRetina }} 2x"> </span> </div> {{/broadcasters}} {{/multipleBroadcasters}}', PULSE.app.templates.matchmodalbroadcasters = '<div class="modalBroadcasterHeaderRow"> <div class="broadcasterHeader">{{ broadcastersLabel }}</div> <div class="broadcasterHeaderRight"> <span class="broadcasterInfo">{{ moreInforLabel }}</span> <span class="broadcasterOnline">{{ liveStreamLabel }}</span> </div> </div> {{#broadcasters}} <div class="modalBroadcasterRow"> <div class="modalBroadcasterNames"> <div class="modalBroadcasterContainer"> <div class="broadcasterName">{{ name }}</div> <div class="broadcasterLogoWrapper"> <div class="logo broadcaster-image-container broadcasterLogo"> <img class="broadcaster-image js-broadcaster-logo" src="{{ logoSrc }}" srcset="{{ logoSrc }}, {{ logoSrcRetina }} 2x"> </div> </div> </div> </div> <div class="modalBroadcasterLinkContainer"> <div class="modalBroadcasterInfo"> <div class="modalBroadcasterLink"> {{^url}} <div class="modalBroadcasterLinkInfo"></div> {{/url}} {{#url}} <div class="modalBroadcasterLinkInfo"> <a href="{{url}}?utm_source=premier-league-website&utm_campaign=website&utm_medium=link" target="_blank" class="modalBroadcasterContainer"> <span class="broadcasterSiteLink">{{ visitSiteLabel }}</span> <span class="icn external-blk"><span class="visuallyHidden">{{ externalLinkText }}</span></span> </a> </div> {{/url}} </div> </div> <div class="modalBroadcasterLiveStreamContainer"> <div class="modalBroadcasterLiveStream"> <span class="matchCentreLiveStreamContainer {{^liveStreaming.hasLiveStream}}matchCentreLiveStreamContainerEmpty{{/liveStreaming.hasLiveStream}}"> {{#liveStreaming.hasLiveStream}} <a href="{{ liveStreaming.liveStreamURL}}?utm_source=premier-league-website&utm_campaign=website&utm_medium=link" target="_blank" alt="External stream link from {{name}}"> {{ liveStreaming.liveStreamLabel }} <span class="visuallyHidden">Live stream available for this match.</span> <span class="icn external-lg-w"><span class="visuallyHidden">{{ externalLinkText }}</span></span> </a> {{/liveStreaming.hasLiveStream}} </span> </div> </div> </div> </div> {{/broadcasters}}', PULSE.app.templates.matchnavscore = '<div class="score">{{ scores.0 }}<span>-</span>{{ scores.1 }}</div>', PULSE.app.templates.search = '<div class="searchInputContainer" role="search"> <label for="search-input" class="visuallyHidden">{{ placeholder }}</label> <input id="search-input" type="text" value="{{ term }}" placeholder="{{ placeholder }}" class="searchTextContainer searchInput"> <button class="search-input__button js-empty-input-btn"> <svg class="search-input__icon"> <use class="icon" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/{{ resourceVersion }}/i/svg-output/icons.svg#icn-close"></use> </svg> </button> <div class="searchIconContainer searchCommit" role="button" tabindex="0"> <div alt="" class="icn search-sm-g"><span class="visuallyHidden">{{ accessibleSearchPhrase }}</span></div> </div> </div>', PULSE.app.templates.inlineshare = '<div class="socialShareInline"> <ul class="socialOptions" role="listbox"> <li><div class="option whatsapp" role="option" tabindex="0" data-social-service="whatsapp"><span class="icn whatsapp-c"></span><span class="visuallyHidden">{{ shareWhatsapp }}</span></div></li> <li><div class="option twitter" role="option" tabindex="0" data-social-service="twitter"><span class="icn twitter-c"></span><span class="visuallyHidden">{{ shareTwitter }}</span></div></li> <li><div class="option facebook" role="option" tabindex="0" data-social-service="facebook"><span class="icn facebook-c"></span><span class="visuallyHidden">{{ shareFacebook }}</span></div></li> <li><div class="option copy" role="option" tabindex="0" data-social-service="copy"><span class="icn copy-link-p"></span><span class="visuallyHidden">{{shareCopy}}</span></div></li> <li><div class="option email" role="option" tabindex="0" data-social-service="email"><span class="icn mail-b"></span><span class="visuallyHidden">{{shareEmail}}</span></div></li> </ul> </div> ', PULSE.app.templates.pagehover = '<div class="socialShareHover"> <div class="socialShareBtn" role="button" tabindex="0" aria-haspopup="true"><div class="icn share-black"></div>{{ share }}</div> <ul class="socialOptions" role="listbox"> <li><div class="option whatsapp" role="option" tabindex="0" data-social-service="whatsapp"><span class="icn whatsapp-w"></span><span class="visuallyHidden">{{ shareWhatsapp }}</span></div></li> <li><div class="option twitter" role="option" tabindex="0" data-social-service="twitter"><span class="icn twitter-lg-w"></span><span class="visuallyHidden">{{ shareTwitter }}</span></div></li> <li><div class="option facebook" role="option" tabindex="0" data-social-service="facebook"><span class="icn facebook-lg-w"></span><span class="visuallyHidden">{{ shareFacebook }}</span></div></li> <li><div class="option copy" role="option" tabindex="0" data-social-service="copy"><span class="icn copy-link-w"></span><span class="visuallyHidden">{{shareCopy}}</span></div></li> <li><div class="option email" role="option" tabindex="0" data-social-service="email"><span class="icn mail-w"></span><span class="visuallyHidden">{{shareEmail}}</span></div></li> </ul> </div> ', PULSE.app.templates.statsshare = '<div class="socialShare widgetShare"> <div class="socialShareBtn" tabindex="0" role="button"> <div class="icn share-black"></div> <span class="share-label">Share</span> </div> <ul class="socialOptions" role="listbox"> <li><div role="option" class="option twitter" tabindex="0"><span class="icn twitter-w" data-social-service="twitter"><span class="visuallyHidden">{{ shareTwitter }}</span></span></div></li> <li><div role="option" class="option facebook" tabindex="0"><span class="icn facebook-w" data-social-service="facebook"><span class="visuallyHidden">{{ shareFacebook }}</span></span></div></li> <li><div role="option" class="option whatsapp" tabindex="0"><span class="icn whatsapp-w" data-social-service="whatsapp"><span class="visuallyHidden">{{ shareWhatsapp }}</span></span></div></li> </ul> </div>', PULSE.app.templates.videoshare = '<div class="socialShare socialShareVideo"> <div class="socialShareText"> <i class="icn share-whitesmall"></i> {{ share }} </div> <ul class="socialOptions" role="listbox"> <li><div class="option whatsapp" role="option" tabindex="0" data-social-service="whatsapp"><span class="icn whatsapp-w"></span><span class="visuallyHidden">{{ shareWhatsapp }}</span></div></li> <li><div class="option twitter" role="option" tabindex="0" data-social-service="twitter"><span class="icn twitter-lg-w"></span><span class="visuallyHidden">{{ shareTwitter }}</span></div></li> <li><div class="option facebook" role="option" tabindex="0" data-social-service="facebook"><span class="icn facebook-lg-w"></span><span class="visuallyHidden">{{ shareFacebook }}</span></div></li> <li><div class="option copy" role="option" tabindex="0" data-social-service="copy"><span class="icn copy-link-w"></span><span class="visuallyHidden">{{shareCopy}}</span></div></li> <li><div class="option email" role="option" tabindex="0" data-social-service="email"><span class="icn mail-w"></span><span class="visuallyHidden">{{shareEmail}}</span></div></li> </ul> </div> ', PULSE.app.templates.listfilter = ' <div class="dropDown inactive {{#visibleOnMobile}}mobile{{/visibleOnMobile}} {{#dropdown.additionalClass}}{{dropdown.additionalClass}}{{/dropdown.additionalClass}}" data-dropdown-block="{{dropdown.name}}" data-dropdown-default="{{dropdown.defaultOption}}"> <div class="label" id="dd-{{dropdown.name}}">{{dropdown.label}}</div> {{#defaultItem}} <div class="current" data-dropdown-current="{{dropdown.name}}" role="button" tabindex="0" aria-expanded="false" aria-labelledby="dd-{{dropdown.name}}">{{defaultItem.optionName}}</div> {{/defaultItem}} {{^defaultItem}} <div class="current" data-dropdown-current="{{dropdown.name}}" role="button" tabindex="0" aria-expanded="false" aria-labelledby="dd-{{dropdown.name}}">{{dropdown.defaultOption}}</div> {{/defaultItem}} <ul class="dropdownList" data-dropdown-list="{{dropdown.name}}" role="listbox" aria-labelledby="dd-{{dropdown.name}}"> {{#dropdown.data}} <li role="option" tabindex="0" data-option-name="{{optionName}}" data-option-id="{{optionId}}" data-option-index="{{#getIndex}}{{/getIndex}}">{{optionName}}</li> {{/dropdown.data}} </ul> </div> ', PULSE.app.templates.listfilteroption = '{{#config.defaultOption}} <li role="option" tabindex="0" data-option-name="{{config.defaultOption}}" data-option-id="-1" data-option-index="-1" class="{{class}}">{{config.defaultOption}}</li> {{/config.defaultOption}} {{#optionData}} <li role="option" tabindex="0" data-option-name="{{optionName}}" data-option-id="{{optionId}}" data-option-index="{{#getIndex}}{{/getIndex}}" class="{{class}}">{{optionName}}</li> {{/optionData}}', PULSE.app.templates.loader = '<div class="loader-small" data-dropdown-loader="active"> <div class="line"></div> </div>', PULSE.app.templates.mobilefooter = ' <div class="pageFilter__filter-btn" role="button">Filter<span class="icn {{#theme}}dropdowngold{{/theme}}{{^theme}}dropdown{{/theme}}"></span></div> <div class="btn-highlight apply" role="button"><div class="icn tick-w"></div>Apply Filters</div>', PULSE.app.templates.mobileheader = '<header class="mobileHeader"> <h4>{{title}}</h4> <div class="close" role="button">Cancel<span class="icn menu-close"></span></div> </header>', PULSE.app.templates.resetbutton = '<div class="filter-button filter-button--reset" role="button" tabindex="0"> <i class="filter-button__icon icn reset-b"></i> <i class="filter-button__icon filter-button__icon--hover {{#theme}}icn reset-g{{/theme}}{{^theme}}icn reset-p{{/theme}}"></i> <span class="filter-button__text">{{#translator}}action.resetfilters{{/translator}}</span> </div> ', PULSE.app.templates.scrollloader = '{{ load }}<div class="loader-small"> <div class="line"></div> </div>',
    function(e, t) {
        const a = ".js-tracked-event",
            n = "data-event-type";
        e.analytics.trackEvent = function(e) {
            if (e) {
                const a = {
                    event: "click",
                    contentType: "widget"
                };
                let n = t.object.extend(a, e);
                void 0 !== window.dataLayer ? dataLayer.push(n) : console.warn("dataLayer not found when trying to track event")
            }
        }, e.analytics.addEventTracking = function() {
            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : document;
            [].slice.call(t.querySelectorAll(a)).filter((e => "click" === e.getAttribute(n))).forEach((t => {
                e.common.addAriaClickListener(t, i)
            }))
        };
        const i = function(t) {
            const a = t.currentTarget;
            e.analytics.trackEvent({
                eventCategory: a.getAttribute("data-event-category"),
                eventLabel: a.getAttribute("data-event-label"),
                eventAction: a.getAttribute("data-event-action")
            })
        };
        e.analytics.addEventTracking()
    }(PULSE.app, PULSE.core),
    function(e, t) {
        t.trackQuizView = function() {
            a("quizView", arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {})
        }, t.trackQuizQuestionAnswered = function() {
            a("quizQuestionAnswered", arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {})
        }, t.trackQuizCompleted = function() {
            a("quizCompleted", arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {})
        }, t.trackArticleView = function() {
            a("article_started", arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {})
        }, t.trackArticleCompleted = function() {
            a("article_finished", arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {})
        };
        const a = function(t) {
            let a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = e.tracking.getSiteDetails();
            if (void 0 !== window.dataLayer) {
                let e = Object.assign({
                    event: t
                }, n, a);
                dataLayer.push(e)
            } else console.warn("dataLayer not found when trying to track articleView")
        }
    }(PULSE.app, PULSE.app.common),
    function(e, t) {
        var a = "count-up",
            n = "active",
            i = "data-count-up-from",
            o = "data-count-up-to",
            r = "data-count-up-duration",
            l = {
                from: 0,
                duration: 1200
            };
        e.CountUp = function(e) {
            var n = this;
            n.container = e, n.elements = Array.prototype.slice.call(n.container.querySelectorAll("[data-count-up]"));
            for (var i = 0; i < n.elements.length; i++) t.style.addClass(n.elements[i], a)
        }, e.CountUp.prototype.start = function() {
            this.elements.forEach((function(e) {
                var a, s, c, d, u, p, m = t.object.extend({}, {
                    from: parseInt(e.getAttribute(i)),
                    to: parseFloat(e.getAttribute(o)),
                    duration: parseInt(e.getAttribute(r)),
                    element: e
                }, l);
                m.to ? (t.style.addClass(m.element, n), c = (a = m).duration / 100, d = Math.floor((a.to - a.from) / c), u = 0, p = 0, a.element.innerHTML = Math.ceil(a.from).toLocaleString(), s = setInterval((function() {
                    u < c ? (u++, p += d, a.element.innerHTML = Math.ceil(p).toLocaleString()) : (clearInterval(s), a.element.innerHTML = a.to.toLocaleString())
                }), 100)) : console.warn("Counter: data-count-up-to NOT SPECIFIED")
            }))
        }
    }(PULSE.app, PULSE.core),
    function(e, t) {
        e.articleTable = function(e) {
            var t = this;
            t.container = e, t.tables = t.container.querySelectorAll("table");
            for (var a = 0; a < t.tables.length; a++) t.container.className === t.tables[a].parentElement.className && (t.tables[a].outerHTML = '<div class="table-scrollable">' + t.tables[a].outerHTML + "</div>")
        };
        var a = document.querySelectorAll(".standardArticle");
        Array.prototype.map.call(a, (function(t) {
            t = new e.articleTable(t)
        }))
    }(PULSE.app.common, PULSE.core),
    function(e, t) {
        const a = 5,
            n = 500;
        e.broadcasterLogo = function(t) {
            let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            let o;
            if (arguments.length > 1 && void 0 !== arguments[1] && arguments[1]) {
                if (o = t.querySelectorAll(".js-broadcaster-logo"), !o.length && i < a) return void setTimeout((function() {
                    e.broadcasterLogo(t, !0, i + 1)
                }), n)
            } else o = t.querySelectorAll("img");
            for (let e = 0; e < o.length; e++) {
                let t = o[e];
                if (t.complete) {
                    if (0 === t.naturalHeight && 0 === t.naturalWidth) {
                        t.parentElement.dataset.size;
                        t.srcset && t.srcset.length && (t.src = t.srcset.split(",")[0]), this.removeAttribute("srcset")
                    }
                } else t.onerror = function() {
                    this.srcset && this.srcset.length && (this.src = this.srcset.split(",")[0]), this.removeAttribute("srcset")
                }
            }
        };
        let i = document.querySelectorAll('[data-widget="broadcaster-logo-image"]');
        for (let t = 0; t < i.length; t++) new e.broadcasterLogo(i[t])
    }(PULSE.app, PULSE.app.common),
    function(e, t, a) {
        t.carousel = function(e) {
            let t = this;
            t.responsiveBreakpoint = 1024, t.hideClass = "u-hide", t.videoPlayingClass = "video-playing", t.container = e.container, t.isMobile = window.innerWidth <= t.responsiveBreakpoint, t.activeSlideIndex = e.activeSlideIndex || 0, t.slideDuration = e.slideDuration, t.container.style.setProperty("--slide-duration", `${t.slideDuration}s`), t.buildNav = e.buildNav, t.navigationContainer = e.navigationContainer, t.slidesContainer = e.slidesContainer, t.slides = e.slides, t.totalSlides = t.slides.length, t.addSlideDistances(), t.loop = e.loop, t.hasArrows = e.hasArrows, t.hasNav = e.hasNav, t.autoSlide = e.autoSlide, t.slidePreviousButton = e.slidePreviousButton || null, t.slideNextButton = e.slideNextButton || null, t.hasNav && (t.navItems = e.navItems), t.buildNav && t.populateNavigationPager(), t.setListeners(), t.slide(null, null, t.activeSlideIndex), t.autoSlide && t.startAutoSlide(), t.supportsSwiping = e.supportsSwiping || null, t.swipeToClose = e.swipeToClose || null, t.supportsSwiping && t.initGestures(), a.event.windowResize.add({
                method: t.resize.bind(this)
            })
        }, t.carousel.prototype.addSlideDistances = function() {
            this.slides.forEach((e => {
                const t = e.offsetLeft;
                e.setAttribute("data-slide-distance", t)
            }))
        }, t.carousel.prototype.populateNavigationPager = function() {
            const e = this;
            e.navItems = [], e.slides.forEach((t => {
                const n = document.createElement("span");
                a.style.addClass(n, "awards-hero-container__pip"), a.style.addClass(n, "js-pager-item"), n.setAttribute("data-active", !1), e.navigationContainer.appendChild(n), e.navItems.push(n)
            }))
        }, t.carousel.prototype.setListeners = function() {
            const e = this;
            e.hasArrows && (e.slidePreviousButton.addEventListener("click", (t => e.slide(t, !0))), e.slideNextButton.addEventListener("click", (t => e.slide(t)))), e.hasNav && e.navItems.forEach(((t, a) => {
                t.addEventListener("click", (t => e.slide(t, null, a)))
            })), window.addEventListener("keydown", (function(t) {
                "37" == t.keyCode && e.slide(t, !0), "39" == t.keyCode && e.slide(t)
            }), !1)
        }, t.carousel.prototype.initGestures = function() {
            const e = this;
            window.oncontextmenu = function(e) {
                return e.preventDefault(), e.stopPropagation(), !1
            };
            let t = !1,
                a = {
                    x: 0,
                    y: 0
                },
                n = 0,
                i = 0,
                o = 0;

            function r(e) {
                return function(e) {
                    a = c(e), t = !0
                }
            }

            function l(e) {
                if (t) {
                    const t = c(e);
                    n = o + t.x - a.x, i = o + t.y - a.y
                }
            }

            function s(a) {
                if (a.target.closest(".awards-hero-category__stories-nav")) return n = 0, void(i = 0);
                t = !1;
                const r = n - o,
                    l = i - o;
                r < -100 ? e.slide(null, !1) : r > 100 ? e.slide(null, !0) : (l > 100 || l < -100) && e.swipeToClose && e.slide(null, !1, null, !0), n = 0, i = 0
            }

            function c(e) {
                return {
                    x: e.type.includes("mouse") ? e.pageX : e.touches[0].clientX,
                    y: e.type.includes("mouse") ? e.pageY : e.touches[0].clientY
                }
            }
            e.slides.forEach(((e, t) => {
                e.querySelectorAll("img").forEach((e => {
                    e.addEventListener("dragstart", (e => e.preventDefault()))
                })), e.addEventListener("touchstart", r(t)), e.addEventListener("touchend", s), e.addEventListener("touchmove", l), e.addEventListener("mousedown", r(t)), e.addEventListener("mouseup", s), e.addEventListener("mouseleave", s), e.addEventListener("mousemove", l)
            }))
        }, t.carousel.prototype.slide = function(a) {
            let n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
            const r = this;
            if ("true" !== r.container.getAttribute("data-active")) return;
            a && r.autoSlideInterval && r.autoSlide && r.stopAutoSlide();
            const l = r.slides[r.activeSlideIndex];
            if (l && l.setAttribute("data-active", !1), "true" === l.getAttribute("data-has-video") && r.pauseVideoSlide(l), o) return void t.event.dispatch(e.common.event.CAROUSEL.END_REACHED, {}, r.container);
            if (r.navItems[r.activeSlideIndex].setAttribute("data-active", !1), null !== i) r.activeSlideIndex = i;
            else {
                if (!n && r.activeSlideIndex === r.totalSlides - 1 && !r.loop) return void t.event.dispatch(e.common.event.CAROUSEL.END_REACHED, {}, r.container);
                !n && r.activeSlideIndex === r.totalSlides - 1 && r.loop ? r.activeSlideIndex = 0 : n && 0 === r.activeSlideIndex && r.loop ? r.activeSlideIndex = r.totalSlides - 1 : n && 0 === r.activeSlideIndex && !r.loop ? t.event.dispatch(e.common.event.CAROUSEL.START_REACHED, {}, r.container) : n ? r.activeSlideIndex-- : r.activeSlideIndex++
            }
            const s = r.slides[r.activeSlideIndex];
            s.setAttribute("data-active", !0), "true" === s.getAttribute("data-has-video") && r.initVideoSlide(s);
            r.navItems[r.activeSlideIndex].setAttribute("data-active", !0), r.slidesContainer.style.transform = `translateX(-${s.getAttribute("data-slide-distance")}px)`
        }, t.carousel.prototype.initVideoSlide = function(e) {
            const t = this,
                a = e.querySelector(".js-story-video"),
                n = a.getAttribute("data-player-name");
            t.stopAutoSlide(), t.playVideo(n, a), a.classList.add(t.videoPlayingClass)
        }, t.carousel.prototype.playVideo = function(a, n) {
            const i = this,
                o = e.videoPlayerManager && e.videoPlayerManager.getPlayerWithName(a);
            o && (o.api.currentTime(0), o.api.play()), n.addEventListener(t.event.VIDEO.END, (() => {
                i.slide()
            }), {
                once: !0
            })
        }, t.carousel.prototype.pauseVideoSlide = function(t) {
            const a = t.querySelector(".js-story-video"),
                n = a.getAttribute("data-player-name"),
                i = e.videoPlayerManager && e.videoPlayerManager.getPlayerWithName(n);
            i && i.api.pause(), a.classList.remove(this.videoPlayingClass)
        }, t.carousel.prototype.startAutoSlide = function() {
            const a = this;
            a.container.setAttribute("data-active", "true"), a.autoSlideInterval = setInterval((() => {
                a.activeSlideIndex < a.totalSlides - 1 ? a.slide() : a.loop ? (a.slide(null, null, 0), t.event.dispatch(e.common.event.CAROUSEL.END_REACHED, {}, a.container)) : t.event.dispatch(e.common.event.CAROUSEL.END_REACHED, {}, a.container)
            }), 1e3 * a.slideDuration)
        }, t.carousel.prototype.stopAutoSlide = function() {
            const e = this;
            clearInterval(e.autoSlideInterval), e.autoSlideInterval = null, e.container.setAttribute("data-auto-slide", !1)
        }, t.carousel.prototype.resize = function() {
            const e = this;
            e.isMobile = window.innerWidth <= e.responsiveBreakpoint, e.addSlideDistances(), e.slide(null, null, e.activeSlideIndex)
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t) {
        e.checkGameweek = function(e) {
            var t = this;
            t.config = e || {}, t.compSeason = t.config.compSeason, t.gameWeek = t.config.gameWeek, t.callback = t.config.callback, t.target = t.config.target, t.getCurrentWeek()
        }, e.checkGameweek.prototype.getCurrentWeek = function() {
            var a = {
                    id: this.compSeason
                },
                n = {
                    url: e.createApiPath("competition-season.gameweeks.current", a),
                    method: "GET",
                    callback: this.checkGameweek,
                    forceCallback: !0,
                    target: this
                };
            t.data.manager.add(n)
        }, e.checkGameweek.prototype.checkGameweek = function(e) {
            var t = this;
            if (e && e.gameweeks && e.gameweeks.length > 0) {
                var a = !1;
                e.gameweeks[0].gameweek == t.gameWeek && (a = !0), t.callback.call(t.config.target, a)
            }
        }
    }(PULSE.app.common, PULSE.core),
    function(e, t) {
        const a = 5,
            n = 500;
        e.clubBadge = function(i) {
            let o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
            let r;
            if (arguments.length > 1 && void 0 !== arguments[1] && arguments[1]) {
                if (r = i.querySelectorAll(".js-badge-image"), !r.length && o < a) return void setTimeout((function() {
                    e.clubBadge(i, !0, o + 1)
                }), n)
            } else r = i.querySelectorAll("img");
            for (let l = 0; l < r.length; l++) {
                let s = r[l];
                if (s.complete) {
                    if (0 === s.naturalHeight && 0 === s.naturalWidth) {
                        const r = s.parentElement.dataset.size || "25";
                        if (!t.getDefaultBadge && o < a) return void setTimeout((function() {
                            e.clubBadge(i)
                        }), n);
                        let l = t.getDefaultBadge(r);
                        s.srcset && s.srcset.length ? s.src = s.srcset.split(",")[0] : s.src = l, s.removeAttribute("srcset")
                    }
                } else s.onerror = function() {
                    const e = this.parentElement.dataset.size || "25";
                    let a = t.getDefaultBadge(e);
                    this.srcset && this.srcset.length ? this.src = this.srcset.split(",")[0] : this.src = a, this.removeAttribute("srcset")
                }
            }
        };
        let i = document.querySelectorAll('[data-widget="club-badge-image"]');
        for (let t = 0; t < i.length; t++) new e.clubBadge(i[t])
    }(PULSE.app, PULSE.app.common), PULSE.app.common.removeRadioBroadcasters = function(e) {
        if (e.length > 0)
            for (let t = 0; t < e.length; t++) {
                let a = e[t];
                a.broadcasters = a.broadcasters.filter((function(e) {
                    return -1 === e.name.indexOf("UK Radio")
                }))
            }
        return e
    },
    function(e, t, a, n) {
        let i = function(e) {
            return e ? e.replace(/[|&;$%@"<>()+,]/g, "") : ""
        };
        const o = function(e) {
            const t = ["fpl", "fantasy", "on this day", "iconic moment", "iconic moments", "goal of the day", "classic match", "milestones", "trickbox"],
                a = e.tags || [];
            let n = "";
            return a.forEach((e => {
                const a = e.label ? e.label.toLowerCase() : e;
                t.includes(a) && (n = a)
            })), n
        };
        t.getContentModel = function(r) {
            let l = r || {},
                s = "";
            switch (l.template = l.type, l.type) {
                case "text":
                    l.articleUrl = l.hotlinkUrl ? l.hotlinkUrl : l.url ? l.url : t.generateContentUrl(l.type, l.id), null != l.tags && l.tags.map((function(e) {
                        "Featured" === e.label && (l.articleUrl += "/featured")
                    }));
                    if (l.optaId = function(e) {
                            if (e.tags && e.tags.length > 0)
                                for (let t = 0; t < e.tags.length; t++)
                                    if (e.tags[t] && e.tags[t].label && e.tags[t].label.indexOf("OptaID") > -1) {
                                        let a = e.tags[t].label.split("_");
                                        if (a.length > 1) return a[1]
                                    }
                        }(l), l.leadMedia && l.leadMedia.variants && "video" != l.leadMedia.type) {
                        var c = e["Embed Photo"];
                        l.variant = t.getVariantBySize(l.leadMedia.variants, c.width, c.height), l.imageAlt = l.leadMedia.title
                    } else l.leadMedia && l.leadMedia.thumbnailUrl ? (l.variant = {
                        url: l.leadMedia.thumbnailUrl
                    }, l.imageAlt = l.leadMedia.title) : l.optaId && (l.variant = {
                        url: t.getDefaultTeamThumbnailUrl(l.optaId)
                    });
                    if (l.related) {
                        let e = [];
                        l.related.forEach((function(a, n) {
                            n < 3 && (a.url = t.generateContentUrl(a.type.toLowerCase(), a.id), e.push(a))
                        })), l.related = e
                    }
                    var d = new RegExp('<link rel="stylesheet"(.|\n)*?>');
                    "string" == typeof l.body && (l.body = l.body.replace(d, ""));
                    break;
                case "photo":
                    if (l.variants) {
                        c = e["Embed Photo"];
                        l.variant = t.getVariantBySize(l.variants, c.width, c.height);
                        let a = t.getVariantWithWidth(l.variants, e.Widescreen.width);
                        l.galleryVariant = a ? a.url : ""
                    }
                    l.svgPath = "M39.8,65.2H13.5c-1.2,0-2.2-1-2.2-2.2V36.7c0-0.9,0.5-1.7,1.4-2.1c0.8-0.4,1.8-0.2,2.4,0.4l8.4,8c0.9,0.9,0.9,2.3,0.1,3.2", l.svgPath += "c-0.9,0.9-2.3,0.9-3.2,0.1l-4.6-4.4v18.9h18.9l-4.4-4.6c-0.8-0.9-0.8-2.2,0-3.1l12.5-12.9c0.9-0.9,2.3-0.9,3.2-0.1", l.svgPath += "c0.9,0.9,0.9,2.3,0.1,3.2L35,54.6l6.5,6.8c0.6,0.7,0.8,1.6,0.4,2.4C41.6,64.7,40.7,65.2,39.8,65.2z M63,42.1c-0.6,0-1.1-0.2-1.5-0.6", l.svgPath += "l-8.4-8c-0.9-0.9-0.9-2.3-0.1-3.2c0.9-0.9,2.3-0.9,3.2-0.1l4.6,4.4V15.8H41.9l4.4,4.6c0.8,0.9,0.8,2.2,0,3.1L33.7,36.4", l.svgPath += "c-0.9,0.9-2.3,0.9-3.2,0.1c-0.9-0.9-0.9-2.3-0.1-3.2l11-11.4L35,15c-0.6-0.7-0.8-1.6-0.4-2.4c0.4-0.8,1.2-1.4,2.1-1.4H63", l.svgPath += "c1.2,0,2.2,1,2.2,2.2v26.3c0,0.9-0.5,1.7-1.4,2.1C63.6,42,63.3,42.1,63,42.1z";
                    break;
                case "video":
                    if (s = void 0 !== l.publishFrom ? l.publishFrom : void 0 !== l.timestamp ? l.timestamp : l.date, l.thumbnail && l.thumbnail.variants.length > 0) {
                        c = e["Embed Photo"];
                        l.variant = t.getVariantBySize(l.thumbnail.variants, c.width, c.height), void 0 === l.variant && (l.variant = {
                            url: l.thumbnailUrl
                        })
                    } else l.variant = {
                        url: l.thumbnailUrl
                    };
                    l.tags && null !== l.tags && !Array.isArray(l.tags) && l.tags.map((function(e) {
                            "fantasy" === e.label.toLowerCase() && (l.fantasy = "thumbnail--fantasy")
                        })), l.uiArgs = JSON.stringify({
                            contentId: l.id,
                            category: o(l),
                            mediaId: l.mediaId ? l.mediaId : 0,
                            fantasy: l.fantasy,
                            mediaTitle: i(l.title),
                            mediaDescription: i(l.description),
                            mediaDate: a(s).format("DD/M/YYYY"),
                            mediaHotlinkUrl: l.hotlinkUrl ? i(l.hotlinkUrl) : "",
                            mediaHotlinkText: l.metadata && l.metadata.hotlinkText ? i(l.metadata.hotlinkText) : ""
                        }), l.durationString = function(e) {
                            let t = "";
                            if (e) {
                                Math.floor(e / 3600);
                                let a = Math.floor(e / 60),
                                    n = e % 60;
                                a < 10 && (t += "0"), t += a + ":", n < 10 && (t += "0"), t += n
                            }
                            return t
                        }(l.duration), l.closedCaptioned && (l.ccString = n.lookup("label.closedcaption")),
                        function(e) {
                            let t = null;
                            return e.references && e.references.forEach((function(e) {
                                "ACCESSIBLE_VIDEO" === e.type && (t = !0)
                            })), t
                        }(l) && (l.avString = n.lookup("label.audiodescription"));
                    break;
                case "playlist":
                    "PHOTO" === l.typeRestriction ? l.url = t.generateContentUrl("gallery", l.id) : l.url = t.generateContentUrl(type, l.id), l.coverItem && l.coverItem.variants && (l.variant = t.getVariantBySize(l.coverItem.variants, e["Embed Photo"].width, e["Embed Photo"].height)), l.itemsSize = l.items ? l.items.length : 0
            }
            return l
        }
    }(PULSE.app.photoVariants, PULSE.app.common, moment, PULSE.I18N),
    function(e, t) {
        e.getPlayerModel = function(a) {
            let n = a;
            return n.url = e.generateContentUrl("player", n.id, n.name.display.replace(new RegExp(" ", "g"), "-")), n.imageSize = "110x140", n.playerImage = e.getDefaultPlayerImg(n.imageSize), n.optaId = n.altIds && n.altIds.opta ? n.altIds.opta : void 0, n.activeClass = n.active ? "active" : "inactive", n.info && n.info.shirtNum && (n.shirtNum = n.info.shirtNum), n.latestPosition && (n.positionLabel = t.lookup("label." + n.latestPosition.toLowerCase())), n.nationalTeam ? n.nationality = {
                country: n.nationalTeam.country,
                isoCode: n.nationalTeam.isoCode,
                label: t.lookup("label.player.nationality")
            } : n.birth && n.birth.country && n.birth.country.country && n.birth.country.isoCode && (n.nationality = {
                country: n.birth.country.country,
                isoCode: n.birth.country.isoCode,
                label: t.lookup("label.player.nationality")
            }), n.stats = [], n.stats.push({
                label: t.lookup("label.stat.appearances"),
                stat: void 0 !== n.appearances ? n.appearances : "0"
            }), !n.latestPosition || "GOALKEEPER" !== n.latestPosition && "DEFENDER" !== n.latestPosition || n.stats.push({
                label: t.lookup("label.stat.clean_sheet"),
                stat: void 0 !== n.cleanSheets ? n.cleanSheets : "0"
            }), n.latestPosition && "GOALKEEPER" !== n.latestPosition && n.stats.push({
                label: t.lookup("label.stat.goals"),
                stat: void 0 !== n.goals ? n.goals : "0"
            }), n.latestPosition && "GOALKEEPER" !== n.latestPosition && "DEFENDER" !== n.latestPosition && n.stats.push({
                label: t.lookup("label.stat.assists"),
                stat: void 0 !== n.assists ? n.assists : "0"
            }), n.currentTeam && (n.team = {
                name: n.currentTeam.shortName,
                url: e.generateContentUrl("team", n.currentTeam.club.id, n.currentTeam.club.name.replace(new RegExp(" ", "g"), "-"))
            }, n.team.opta = n.currentTeam.altIds && n.currentTeam.altIds.opta ? n.currentTeam.altIds.opta : ""), n.team && (n.clubBadge = e.getClubBadge(n.team.opta, "25"), n.clubBadgeRetina = e.getClubBadge(n.team.opta, "25", !0)), n.profileLabel = t.lookup("label.playerprofile"), n
        }, e.getManagerModel = function(a) {
            let n = a;
            return n.url = e.generateContentUrl("manager", n.id, n.name.display.replace(new RegExp(" ", "g"), "-")), n.imageSize = "110x140", n.playerImage = e.getDefaultPlayerImg(n.imageSize), n.optaId = n.altIds && n.altIds.opta ? n.altIds.opta : void 0, n.activeClass = n.active ? "active" : "inactive", n.nationalTeam ? n.nationality = {
                country: n.nationalTeam.country,
                isoCode: n.nationalTeam.isoCode,
                label: t.lookup("label.player.nationality")
            } : n.birth && n.birth.country && n.birth.country.country && n.birth.country.isoCode && (n.nationality = {
                country: n.birth.country.country,
                isoCode: n.birth.country.isoCode,
                label: t.lookup("label.player.nationality")
            }), n.currentTeam && (n.team = {
                name: n.currentTeam.shortName,
                url: e.generateContentUrl("team", n.currentTeam.club.id, n.currentTeam.club.name.replace(new RegExp(" ", "g"), "-"))
            }, n.team.opta = n.currentTeam.altIds && n.currentTeam.altIds.opta ? n.currentTeam.altIds.opta : ""), n.team && n.team.opta && (n.clubBadge = e.getClubBadge(n.team.opta, "25"), n.clubBadgeRetina = e.getClubBadge(n.team.opta, "25", !0)), n.profileLabel = t.lookup("label.managerProfile"), n
        }, e.getPointsDeducted = function(e) {
            let t = [];
            return e && e.length > 0 && e.forEach((function(e) {
                e.annotations && e.annotations.length > 0 && e.annotations.forEach((function(a) {
                    if ("PD" === a.type && a.description) {
                        let n = e.team.shortName ? e.team.shortName : e.team.name,
                            i = "*" + n + " - " + a.description;
                        t.push({
                            message: i,
                            team: n
                        })
                    }
                }))
            })), t
        }
    }(PULSE.app.common, PULSE.I18N),
    function(e, t, a) {
        e.momentGetDaysFromRange = function(e, n, i, o) {
            var r = e instanceof Date ? e : new Date(e),
                l = n instanceof Date ? n : new Date(n),
                s = r.getTime(),
                c = (l.getTime(), []),
                d = s;
            o && r.toLocaleDateString() !== l.toLocaleDateString() && c.push({
                date: r,
                string: a && i ? a(r).locale(t.language).format(i) : r.toLocaleDateString(),
                std: !!a && a(r).format("DD-MM-YYYY")
            });
            do {
                d += 864e5;
                var u = new Date(d);
                c.push({
                    date: u,
                    string: a && i ? a(u).locale(t.language).format(i) : u.toLocaleDateString(),
                    std: !!a && a(u).format("DD-MM-YYYY")
                })
            } while (d < l.getTime());
            return c
        }, e.getSinceString = function(e, t) {
            if (e) {
                var a = new Date,
                    n = Math.floor((a - e) / 1e3);
                return n <= 0 ? t ? t.justNow : "just now" : n < 60 ? Math.round(n) + (t ? t.seconds : "s") : n < 3600 ? Math.round(n / 60) + (t ? t.minutes : "m") : n < 86400 ? Math.round(n / 3600) + (t ? t.hours : "h") : Math.round(n / 86400) + (t ? t.days : "d")
            }
        }
    }(PULSE.app.common, PULSE.app, moment),
    function(e, t, a) {
        t.getDefaultPlayerImg = function(e) {
            return t.getPlayerImg("Photo-Missing", e)
        }, t.setPlayerImageLoader = function(e, a, n, i) {
            let o, r = t.getPlayerImg(e, a, i),
                l = t.getDefaultPlayerImg(a);
            n.onerror = function() {
                n.getAttribute("data-error") || (n.setAttribute("data-error", !0), o = document.querySelector('[data-player="' + e + '"]').setAttribute("src", l))
            }, n.setAttribute("src", r)
        }, t.getPlayerImg = function(t, a, n) {
            return e.environment.playerImagePath + a + "/" + t + "." + (n || "png")
        }, t.getDefaultTeamThumbnailUrl = function(e) {
            return e ? `/resources/${RESOURCE_VERSION}/i/default-thumbnails/${e}.png` : ""
        }, t.getImageUrl = function() {
            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
            if (e) {
                if (e.onDemandUrl && (a || n)) return e.onDemandUrl + "?width=" + a + "&height=" + n;
                return t.getVariantWithWidth(e.variants, a).url
            }
        }, t.getBroadcasterLogo = function(t, a, n, i) {
            let o = n ? "@x2" : "";
            return e.environment.broadcasterLogo + a + "/" + t.toLowerCase() + o + "." + (i || "png")
        }, t.getClubBadge = function(t, a, n, i) {
            let o = n ? "@x2" : "";
            return e.environment.badges + (a || "medium") + "/" + t + o + "." + (i || "png")
        }, t.getDefaultBadge = function(t, a) {
            return e.environment.badges + (t || "25") + "/default." + (a || "png")
        }, t.getPhotosForContainer = function(e) {
            if (e) {
                let n = e.getElementsByClassName("playerPhotoContainer"),
                    i = n.length - 1;
                for (; i > -1;) {
                    let e = n[i].getAttribute("data-player"),
                        o = n[i].getAttribute("data-size") || "140",
                        r = n[i].getAttribute("data-extension");
                    t.setPlayerImageLoader(e, o, n[i], r), a.style.removeClass(n[i], "playerPhotoContainer"), i--
                }
            }
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t, a) {
        t.renderKickOffData = function(t, a) {
            if (t) {
                let n = a || {},
                    i = n.className ? n.className : "renderKOContainer",
                    o = n.format ? n.format : "HH:mm",
                    r = t.getElementsByClassName(i);
                if (r && r.length > 0)
                    for (let t = 0; t < r.length; t++) {
                        let a = r[t].getAttribute("data-kickoff");
                        if (a) {
                            let n = moment(parseInt(a)).locale(e.language).format(o);
                            r[t].innerHTML = n
                        }
                    }
            }
        }, t.orderKickOffs = function(t, a, n, i) {
            if (t && a && n) {
                let r = i || {},
                    l = r.className ? r.className : "matchWeekMatchContainer",
                    s = r.format ? r.format : "dddd D MMMM",
                    c = t.getElementsByClassName(l),
                    d = {},
                    u = [];
                for (var o = 0; o < c.length; o++) {
                    let t = c[o].getAttribute("data-kickoff");
                    if (t) {
                        let a = moment(parseInt(t)).locale(e.language).format(s);
                        d[a] ? d[a].push(c[o]) : (u.push(a), d[a] = [c[o]])
                    }
                }
                for (o = 0; o < u.length; o++)
                    if (d && d[u[o]]) {
                        let e = {
                            date: u[o]
                        };
                        a.innerHTML += Mustache.render(n, e);
                        let t = a.getElementsByClassName(u[o] + "MatchContainer");
                        if (t && t.length > 0)
                            for (let e = 0; e < d[u[o]].length; e++) t[0].appendChild(d[u[o]][e])
                    }
            }
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t) {
        e.getEventTypeClass = function(e, t) {
            switch (e.type) {
                case "PS":
                    return "time-w";
                case "PE":
                    return "1" === e.phase ? "time-half-w" : "time-full-w"
            }
            if (t) switch (e.description) {
                case "G":
                case "P":
                    return "ball-white"
            }
            switch (e.description) {
                case "Y":
                    return "card-yellow";
                case "R":
                    return "card-red";
                case "YR":
                    return "card-yellowred";
                case "O":
                    return "og-w";
                case "G":
                case "P":
                    return "ball-small";
                case "OFF":
                    return "sub-off";
                case "ON":
                    return "sub-on";
                case "sub":
                    return "sub-w";
                case "S":
                case "M":
                    return "miss-p-w";
                default:
                    return ""
            }
        }, e.getEventAccessibleDescription = function(e) {
            switch (e.description) {
                case "Y":
                    return t.lookup("label.yellowcard");
                case "R":
                    return t.lookup("label.redcard");
                case "YR":
                    return t.lookup("label.yellowcard.second");
                case "O":
                    return t.lookup("label.owngoal");
                case "G":
                    return t.lookup("label.goal");
                case "P":
                    return t.lookup("label.penaltyscored");
                case "OFF":
                    return t.lookup("label.substitution.off");
                case "ON":
                    return t.lookup("label.substitution.on");
                case "sub":
                    return t.lookup("label.substitution");
                case "S":
                    return t.lookup("label.penaltysaved");
                case "M":
                    return t.lookup("label.penaltymissed");
                default:
                    return ""
            }
        }, e.getEventLabel = function(e) {
            switch (e.type) {
                case "PS":
                    return "1" === e.phase ? t.lookup("label.kickoff") : t.lookup("label.secondhalf");
                case "PE":
                    return "1" === e.phase ? t.lookup("label.halftime") : t.lookup("label.fulltime")
            }
            switch (e.description) {
                case "G":
                case "P":
                    return t.lookup("label.goal");
                case "O":
                    return t.lookup("label.owngoal");
                case "Y":
                    return t.lookup("label.yellowcard");
                case "R":
                case "YR":
                    return t.lookup("label.redcard");
                case "S":
                case "M":
                    return t.lookup("label.penaltymissed");
                case "sub":
                case "OFF":
                case "ON":
                    return t.lookup("label.substitution");
                default:
                    return ""
            }
        }, e.getEventTime = function(e) {
            let t = Math.floor(e.clock.secs / 60);
            return "1" === e.phase && t > 45 ? t = "45 +" + (t - 45) : "2" === e.phase && t > 90 && (t = "90 +" + (t - 90)), t + "'"
        }, e.getPlayerForEvent = function(e, t) {
            for (let n = 0; n < e.length; n++) {
                let i = e[n];
                if (i.lineup)
                    for (var a = 0; a < i.lineup.length; a++)
                        if (i.lineup[a].id == t) return i.lineup[a];
                if (i.substitutes)
                    for (a = 0; a < i.substitutes.length; a++)
                        if (i.substitutes[a].id == t) return i.substitutes[a]
            }
        }, e.getPlayerForType = function(a, n, i, o) {
            let r = n.clock.secs,
                l = e.getEventTime(n);
            return a[i] || (a[i] = {}), "Y" != n.description && ("P" === n.description ? l += " (" + t.lookup("label.penalty.short") + ")" : "O" === n.description && (l += " (" + t.lookup("label.owngoal.short") + ")"), a[i][o] || (a[i][o] = []), a[i][o].push({
                label: l,
                val: r
            })), a
        }, e.getPlayerEvents = function(t) {
            let a = {};
            return t && t.length > 0 && t.forEach((function(t) {
                if (null != t.personId) {
                    let n = "P" == t.description ? "G" : t.description;
                    e.getPlayerForType(a, t, t.personId, n)
                }
                t.assistId && e.getPlayerForType(a, t, t.assistId, "AS")
            })), a
        }, e.getTeamEventsMap = function(t, a, n) {
            let i = {
                matchEvents: [
                    [],
                    []
                ],
                assists: [
                    [],
                    []
                ]
            };
            return t && t.length > 0 && t.forEach((function(t) {
                if (null != t.teamId && t.type && ("G" == t.description || "Y" == t.description || "YR" == t.description || "R" == t.description || "P" == t.description || "O" == t.description)) {
                    let s = e.getEventTypeClass(t),
                        c = t.description;
                    if ("P" === c && (c = "G"), n && n[t.personId] && n[t.personId][c] && n[t.personId][c].length > 0 && n[t.personId][c][0].val == t.clock.secs && ("Y" !== c || !n[t.personId].YR)) {
                        var o = 0;
                        if (a[1].teamId === t.teamId && (o = 1), l = e.getPlayerForEvent(a, t.personId)) {
                            "G" === c && n[t.personId][c].length > 1 ? s = "icn ball-2-sm-w" : "G" === c && (s = "icn ball-white");
                            var r = " " + n[t.personId][c].map((function(e) {
                                return e.label
                            })).join(",") + " ";
                            i.matchEvents[o].push({
                                typeClass: s,
                                playerName: l.name.display,
                                playerUrl: e.generateContentUrl("player", l.id, l.name.display.replace(new RegExp(" ", "g"), "-")),
                                eventTimes: r
                            })
                        }
                    }
                    if (t.teamId && "G" == t.description && t.assistId && n && n[t.assistId] && n[t.assistId].AS && n[t.assistId].AS.length > 0 && n[t.assistId].AS[0].val == t.clock.secs) {
                        var l;
                        o = 0;
                        if (a[1].teamId === t.teamId && (o = 1), l = e.getPlayerForEvent(a, t.assistId)) {
                            r = " " + n[t.assistId].AS.map((function(e) {
                                return e.label
                            })).join(",") + " ";
                            i.assists[o].push({
                                playerName: l.name.display,
                                playerUrl: e.generateContentUrl("player", l.id, l.name.display.replace(new RegExp(" ", "g"), "-")),
                                eventTimes: r
                            })
                        }
                    }
                }
            })), i
        }
    }(PULSE.app.common, PULSE.I18N),
    function(e, t, a) {
        t.ModalsController = function() {
            this.modals = [], this.instances = []
        }, t.ModalsController.prototype.addModal = function(e) {
            var t = this; - 1 === t.modals.indexOf(e.config.modalContentId) && (t.modals.push(e.config.modalContentId), t.instances.push(e))
        }, t.ModalsController.prototype.closeAll = function() {
            this.instances.forEach((function(e) {
                e.close()
            }))
        }, e.modalsController = new t.ModalsController
    }(PULSE.app, PULSE.app.common, PULSE.I18N),
    function(e, t) {
        PULSE.app.common.refreshScripts = function(t) {
            var a = t.getElementsByTagName("script"),
                n = [];
            Array.prototype.map.call(a, (function(e) {
                if (!e.getAttribute("data-script-created")) {
                    var a = !0;
                    if (n.length > 0 && n.forEach((function(t) {
                            t === e.src && (a = !1)
                        })), e.parentNode.removeChild(e), a) {
                        var i = document.createElement("script");
                        i.setAttribute("data-script-created", !0), i.type = "text/javascript", i.src = e.src, n.push(e.src), t.appendChild(i)
                    }
                }
            })), e.widgetDeps(t)
        }
    }(PULSE.app), PULSE.app.common.getTableRowClass = function(e) {
        if (1 === e.position) return "tableDark";
        if (e.annotations && e.annotations.length > 0)
            for (var t = 0; t < e.annotations.length; t++) {
                var a = e.annotations[t];
                if (a.type && "Q" === a.type) return a.destination && "EU_EL" === a.destination ? "tableLight" : "tableMid";
                if (a.type && "R" === a.type) return "tableMid"
            }
        return ""
    },
    function(e, t) {
        e.templateTranslator = function() {
            return function(e, a) {
                return t.lookup(a(e))
            }
        }
    }(PULSE.app.common, PULSE.I18N),
    function(e, t, a) {
        let n = function(e) {
            let t = [];
            for (let a in e) void 0 !== e[a] && "" !== e[a] && t.push(a + "=" + e[a]);
            return t
        };
        t.createApiPath = function(t, n) {
            let i = a.object.objectByString(e.apiPath, t),
                o = [];
            for (let e in n) i.indexOf("{" + e + "}") > -1 ? i = i.replace("{" + e + "}", n[e]) : void 0 !== n[e] && null !== n[e] && o.push(e + "=" + n[e]);
            let r = e.environment.api + "/football" + i;
            return o.length > 0 && (r += "?" + o.join("&")), r
        }, t.createVotingApiPath = function(t, n) {
            let i = a.object.objectByString(e.apiPath, t),
                o = [];
            for (let e in n) i.indexOf("{" + e + "}") > -1 ? i = i.replace("{" + e + "}", n[e]) : void 0 !== n[e] && o.push(e + "=" + n[e]);
            let r = e.environment.api + i;
            return o.length > 0 && (r += "?" + o.join("&")), r
        }, t.createContentPath = function(t, a, i, o) {
            let r = e.environment.api + "/content/" + e.account + "/" + t + "/" + (i || e.defaultLanguage) + "/" + (o || "");
            if (a) {
                let e = n(a);
                e.length > 0 && (r += "?" + e.join("&"))
            }
            return r
        }, t.createLiveBlogPath = function(t, a, i, o) {
            let r = e.environment.api + "/liveblog/" + e.account + "/" + a + "/" + (t || e.defaultLanguage);
            if (void 0 === o || isNaN(o) || (r += "/below/" + o), i) {
                let e = n(i);
                e.length > 0 && (r += "?" + e.join("&"))
            }
            return r
        }, t.createCanaryPathFromReference = function(t, a) {
            return e.environment.canary + "account/" + e.canaryAccount + "/contentref/" + t + ":" + a + "/posts"
        }, t.createCanaryPathFromId = function(t) {
            return e.environment.canary + "stream/" + t + "/posts"
        }, t.createSearchPath = function(t, a, i) {
            let o = e.environment.api + "/search/" + e.account + "/";
            if (o += "?terms=" + t.join(","), a && a.length > 0 && (a.map((function(e) {
                    e = e.toUpperCase()
                })), o += "&type=" + a.join(",")), i) {
                let e = n(i);
                e.length > 0 && (o += "&" + e.join("&"))
            }
            return o
        }, t.createPollQuestionUrl = function(t) {
            return e.environment.pollQuestions + "/" + t + "/poll.js"
        }, t.createPollAnswerUrl = function(t, a) {
            return e.environment.pollAnswer + "?id=" + t + "&option=" + a + "&callback=JSON_CALLBACK"
        }, t.generateContentUrl = function(t, a, n, i) {
            let o = "//" + e.environment.domain;
            switch (n && (n = n.replace(" ", "-")), t) {
                case "text":
                    return o + "/news/" + a;
                case "player":
                    return o + "/players/" + a + "/" + (n = n || "player") + "/overview";
                case "club":
                case "team":
                    return o + "/clubs/" + a + "/" + (n = n || "club") + "/overview";
                case "stadium":
                    return o + "/clubs/" + a + "/" + (n = n || "club") + "/stadium";
                case "manager":
                    return o + "/managers/" + a + "/" + n + "/overview";
                case "referee":
                    return o + "/referees/" + a + "/" + n + "/overview";
                case "match":
                    {
                        let e = "";
                        return n && (e = "/" + n),
                        o + "/match/" + a + e
                    }
                case "video":
                    return o + "/" + t + "/single/" + a;
                default:
                    return o + "/" + t + "/" + a
            }
        }, t.getMatchCentreUrl = function(a, n) {
            if (n = n || a.gameweek.compSeason) {
                let r;
                if ("U21" === n.competition.level && e.statCompSeasons.U21.indexOf(n.id) > -1) return r = ["premier-league-2", i(n), o(a)].join("/").toLowerCase(), t.generateContentUrl("match", a.id, r);
                if ("U18" === n.competition.level && e.statCompSeasons.U18.indexOf(n.id) > -1) return r = ["u18-premier-league", i(n), o(a)].join("/").toLowerCase(), t.generateContentUrl("match", a.id, r);
                if ("U21" !== n.competition.level && "U18" !== n.competition.level && e.competitionMatchCentres.indexOf(n.competition.id) > -1) return t.generateContentUrl("match", a.id)
            }
            return ""
        };
        const i = function(e) {
                let t = e.label.split(" ");
                return t[t.length - 1].replace("/", "-")
            },
            o = function(e) {
                let t = "";
                if (e.teams && 2 === e.teams.length) {
                    let a = PULSE.I18N.lookup("label.team.tbc");
                    e.teams[0] && e.teams[0].team ? t += e.teams[0].team.shortName || e.teams[0].team.name : t += a, t += "-v-", e.teams[1] && e.teams[1].team ? t += e.teams[1].team.shortName || e.teams[1].team.name : t += a
                }
                return t.trim().split(" ").join("-")
            }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e) {
        e.getPhotoByVariant = function(e, t) {
            let a;
            for (let n = 0; n < e.length; n++)
                if (e[n].tag.label === t) {
                    a = e[n];
                    break
                }
            return a || null
        }, e.getVariantWithWidth = function(e, t) {
            let a = 1 / 0,
                n = !1;
            for (let i = 0; i < e.length; i++) {
                let o = e[i],
                    r = Math.abs(o.width - t);
                r < a && (a = r, n = i)
            }
            return e[n]
        }, e.getVariantBySize = function(t, a, n) {
            let i = -1;
            for (let e = 0; e < t.length; e++) {
                let o = t[e];
                o.width == a && o.height == n && (i = e)
            }
            return i ? t[i] : e.getVariantWithWidth(t, a)
        }, e.getArticleVariants = function(e) {
            let t = !!e.leadMedia && "leadMedia",
                a = !!e.thumbnail && "thumbnail",
                n = e[t || a].variants;
            return n || !1
        }, e.getDurationString = function(e) {
            if (!e) return "";
            let t = Math.floor(e / 60),
                a = e % 60,
                n = "";
            return t && (n += t + " min "), a && (n += a + " sec"), n
        }
    }(PULSE.app.common),
    function(e, t) {
        e.ContentTracker = function(a) {
            let n = this;
            n.event = "object" == typeof a ? a : {
                contentType: a.getAttribute("data-tracker-type"),
                contentId: a.getAttribute("data-tracker-id"),
                action: a.getAttribute("data-tracker-action")
            };
            let i = function() {
                let e = "";
                return n.event.contentType || (e += "The html element must include a 'data-tracker-type'/n"), n.event.contentId || (e += "The html element must include a 'data-tracker-id'/n"), n.event.action || (e += "The html element must include a 'data-tracker-action'/n"), e
            }();
            if (i.length > 0) return i;
            let o = {
                url: e.environment.trackingApi,
                headers: [e.accountHeader],
                data: n.event,
                method: "POST",
                callback: n.ContentTracker.prototype.eventSent,
                forceCallback: !0,
                target: this
            };
            t.data.request(o.url, o.method, o.callback, o.target, null, o.data, o.headers)
        }, e.ContentTracker.prototype.eventSent = function(e, t) {};
        let a = document.querySelectorAll("[data-tracker-action]");
        for (let t = 0; t < a.length; t++) new e.ContentTracker(a[t])
    }(PULSE.app, PULSE.core),
    function(e) {
        e.cookieOOBInit = function() {
            e.consent.getOobVendorConsent(window.OOB_VENDOR_FACEBOOK) ? e.tracking.enableFacebookTracking() : e.consent.waitForConsentUpdate(window.OOB_VENDOR_FACEBOOK)
        }
    }(PULSE.app.common),
    function(e, t) {
        var a = function(e, t) {
            e && (e.innerHTML = t)
        };
        e.countdown = function(e, t) {
            var a = this;
            a.element = e, a.config = t || {}, a.time = a.element.getAttribute("data-time") ? a.element.getAttribute("data-time") : a.config.time, a.stopCallback = t.stopCallback, a.initCountdown()
        }, e.countdown.prototype.initCountdown = function() {
            var e = this;
            e.days = e.element.getElementsByClassName("daysSpan")[0], e.hours = e.element.getElementsByClassName("hoursSpan")[0], e.mins = e.element.getElementsByClassName("minsSpan")[0], e.secs = e.element.getElementsByClassName("secsSpan")[0], e.time && (e.liveRefresh = setInterval((function() {
                e.refreshTime()
            }), 1e3))
        }, e.countdown.prototype.stopCountdown = function() {
            var e = this;
            e.stopCallback && "function" == typeof e.stopCallback && e.stopCallback(e), clearInterval(e.liveRefresh)
        }, e.countdown.prototype.refreshTime = function() {
            var e = this,
                t = (new Date).getTime(),
                n = e.time - t;
            if (n <= 0) a(e.days, "00"), a(e.hours, "00"), a(e.mins, "00"), a(e.secs, "00"), e.stopCountdown();
            else {
                a(e.days, "30"), a(e.hours, "30"), a(e.mins, "30"), a(e.secs, "30");
                var i = Math.floor(n / 1e3 / 86400);
                a(e.days, i < 10 ? "0" + i : i);
                var o = 24 * parseInt(i, 10) * 60 * 60,
                    r = Math.floor((n / 1e3 - o) / 3600);
                a(e.hours, r < 10 ? "0" + r : r);
                var l = 3600 * parseInt(r, 10),
                    s = Math.floor((n / 1e3 - o - l) / 60);
                a(e.mins, s < 10 ? "0" + s : s);
                var c = 60 * parseInt(s, 10),
                    d = Math.floor(n / 1e3 - o - c - l);
                d < 10 ? e.secs.innerHTML = "0" + d : a(e.secs, d)
            }
        }
    }(PULSE.app.common, PULSE.core),
    function(e, t) {
        let a = function(e) {
                let a = this,
                    n = a.element.getElementsByClassName("current"),
                    i = a.element.getElementsByClassName("current");
                t.style.toggleClass(a.element, "open"), "true" === i[0].getAttribute("aria-expanded") ? i[0].setAttribute("aria-expanded", "false") : i[0].setAttribute("aria-expanded", "true"), e.target && "LI" === e.target.nodeName && (n.length > 0 && a.updateCurrent && (n[0].innerHTML = e.target.getAttribute("data-label")), a.target && a.callback && a.callback.call(a.config.target, e.target))
            },
            n = function(e) {
                let a = this,
                    n = a.element.getElementsByClassName("current"),
                    i = a.element.getElementsByClassName("current");
                e.target == n[0] || e.target == a.element || t.dom.isDescendant(e.target, n[0]) || (t.style.removeClass(a.element, "open"), i[0].setAttribute("aria-expanded", "false"))
            };
        e.dropdown = function(e, i) {
            let o = this;
            o.config = i || {}, o.element = e, o.updateCurrent = o.config.updateCurrent, o.callback = o.config.callback, o.target = o.config.target, t.style.removeClass(o.element, "open"),
                function(e) {
                    let t = e.element.getElementsByClassName("current");
                    e.element.getAttribute("data-listener") || (e.element.setAttribute("data-listener", !0), e.element.addEventListener("click", a.bind(e)), e.element.addEventListener("keyup", (function(t) {
                        13 === (t.which || t.keyCode) && a.call(e, t)
                    })), t.length > 0 && (document.addEventListener("click", n.bind(e)), document.addEventListener("keyup", (function(t) {
                        13 === (t.which || t.keyCode) && n.call(e, t)
                    }))))
                }(o)
        };
        let i = document.querySelectorAll('[data-widget="dropdown"]');
        for (let t = 0; t < i.length; t++) new e.dropdown(i[t], {})
    }(PULSE.app.common, PULSE.core),
    function(e, t) {
        e.event = e.event || {}, e.event.VIDEO = {
            START: "video/start",
            END: "video/end",
            READY: "player/ready",
            PLAY: "player/play-video",
            PAUSE: "player/pause-video",
            CLOSE_FULL_SCREEN: "player/full-screen-closed"
        }, e.event.PLAYLIST = {
            SET_MEDIA: "playlist/set-media",
            SET_TITLE: "playlist/set-title"
        }, e.event.DATA_CAPTURE = {
            ANSWERED: "data_capture/answered",
            ANSWERED_HOF: "data_capture/answeredHof"
        }, e.event.CAROUSEL = {
            NEXT_SLIDE: "carousel/next-slide",
            PREV_SLIDE: "carousel/prev-slide",
            END_REACHED: "carousel/end-reached",
            START_REACHED: "carousel/start-reached"
        }, e.event.USER_PREFS = {
            SET_USER_PREFS: "user-prefs/set-user-prefs"
        }, e.event.dispatch = function(e, a, n, i) {
            i = t.object.extend({
                bubbles: !0,
                cancelable: !0
            }, i || {}), (n || document.body).dispatchEvent(new CustomEvent(e, {
                detail: a || {},
                bubbles: i.bubbles,
                cancelable: i.cancelable
            }))
        }
    }(PULSE.app.common, PULSE.core),
    function(e, t, a) {
        t.fantasyAuthenticate = function() {
            var t = a.localStorage.getStorage(e.cookiePrefix + "profile", !0);
            t ? ('"' === t[0] && '"' === t[t.length - 1] && (t = t.substr(1, t.length - 2)), n(JSON.parse(window.atob(t)))) : n(null)
        };
        var n = function(t) {
            var n = document.getElementsByClassName("fantasySignIn")[0],
                i = document.getElementsByClassName("fantasySignOut")[0],
                o = a.url.updateUrlStringParam(e.environment.fantasyUserApi + "/", "redirect_uri", e.environment.redirectUri);
            o = a.url.updateUrlStringParam(o, "app", e.environment.fantasyAppId);
            var r = e.environment.fantasyUserApi;
            n && n.href && (n.href = o, i.href = r, t ? (a.style.addClass(n, "hide"), a.style.removeClass(i, "hide"), i.getElementsByClassName("fantasyUsername")[0].innerHTML = t.u.fn) : (a.style.removeClass(n, "hide"), a.style.addClass(i, "hide")))
        }
    }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N),
    function(e, t, a) {
        const n = e => decodeURIComponent(Array.prototype.map.call(atob(e), (function(e) {
            return "%" + ("00" + e.charCodeAt(0).toString(16)).slice(-2)
        })).join(""));
        t.getUserAccount = function(t) {
            let i = a.localStorage.getStorage(e.cookiePrefix + "profile", !0);
            if (i) {
                const a = n(i.replace(/"/g, ""));
                fetch(e.environment.userAccount, {
                    headers: {
                        Authorization: `Bearer ${JSON.parse(a).s}`
                    }
                }).then((e => e.json())).then((e => {
                    let n = e;
                    n ? first_name ? (n.signedIn = !0, n.userToken = JSON.parse(a).s) : n = {
                        signedIn: !1
                    }: window.userProfile = n, t(n)
                })).catch((() => console.error("Unfotunately, there was an error.")))
            } else {
                t({
                    signedIn: !1
                })
            }
        }, t.updateUserAccount = function(t) {
            let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                o = a.localStorage.getStorage(e.cookiePrefix + "profile", !0);
            if (o) {
                const a = n(o.replace(/"/g, ""));
                fetch(e.environment.userAccount, {
                    method: "PATCH",
                    headers: {
                        Authorization: `Bearer ${JSON.parse(a).s}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(t)
                }).then((e => e.json())).then((e => {
                    i && i(e)
                })).catch((() => console.error("Unfotunately, there was an error.")))
            }
        }
    }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N),
    function(e) {
        let t = function(e, t) {
            if (t.className.indexOf(e) > -1) return t;
            let a = t.parentNode;
            for (; null !== a;) {
                let t = a.className ? a.className.split(" ") : [];
                if (t.length > 0 && t.indexOf(e) > -1) return a;
                a = a.parentNode
            }
            return null
        };
        e.fixtureListener = function() {}, e.fixtureListener.prototype.redirectToMatchCenter = function(e) {
            let a = e.target,
                n = e.type,
                i = e.keyCode || e.charCode;
            if (e.stopPropagation(), "keypress" === n && 13 !== i) return;
            let o = t("multipleBroadcastersContainer", a),
                r = t("broadcasterContainer", a),
                l = r ? r.getElementsByClassName("broadcaster-liveStream") : void 0;
            if ((l && l.length || o) && -1 === a.className.indexOf("livestream")) return;
            let s = t("fixture", a);
            if (s) {
                let e = s.getAttribute("data-href");
                e && (window.location.href = e)
            }
        }
    }(PULSE.app.common),
    function(e, t) {
        e.Form = e.Form || {};
        var a = function(e) {
            e.preventDefault()
        };
        e.Form = function(e) {
            var a = this;
            if (e.api && e.callback && e.form) {
                var n, i = e.api,
                    o = e.method || "GET",
                    r = e.callback;
                return a.form = e.form, a.submitForm = function() {
                    for (var e = {
                            url: i,
                            method: o,
                            callback: r,
                            data: {}
                        }, l = (n = a.form.elements).length; l--;) {
                        var s = n[l];
                        s.id && (e.data[s.id] = s.value)
                    }
                    t.data.manager.add(e), a.submitForm = function() {
                        return !1
                    }
                }, a.preventSubmission(), a
            }
            return !1
        }, e.Form.prototype.preventSubmission = function() {
            this.form.addEventListener("submit", a, !1)
        }, e.Form.prototype.allowSubmission = function() {
            this.form.removeEventListener("submit", a, !1)
        }
    }(PULSE.app.common, PULSE.core),
    function(e, t, a) {
        let n = function(e, t) {
                return e - 1 >= 0 ? e - 1 : t - 1
            },
            i = function(e, t) {
                return e + 1 < t ? e + 1 : 0
            },
            o = function(e, t, n) {
                return a.style.addClass(e, n), a.style.removeClass(e, t), a.style.addClass(e.childNodes[1].childNodes[0], n + "CaptionTitle"), a.style.removeClass(e.childNodes[1].childNodes[0], t + "CaptionTitle"), a.style.addClass(e.childNodes[1].childNodes[1], n + "CaptionBody"), a.style.removeClass(e.childNodes[1].childNodes[1], t + "CaptionBody"), e
            };
        t.galleryModal = function(e) {
            let t = this;
            t.element = e, t.gallery = {}, t.initModal(t),
                function(e) {
                    let t = document.createElement("div");
                    a.style.addClass(t, "galleryWrapper"), e.gallery.list = document.createElement("ul"), a.style.addClass(e.gallery.list, "galleryList"), t.appendChild(e.gallery.list), ["prev", "current", "next"].forEach((function(t) {
                        let n = document.createElement("li");
                        a.style.addClass(n, t);
                        let i = document.createElement("img");
                        a.style.addClass(i, "galleryImageContainer");
                        let o = document.createElement("figcaption");
                        a.style.addClass(o, "galleryFigCaptionContainer");
                        let r = document.createElement("span");
                        a.style.addClass(r, "galleryCaptionTitle");
                        let l = document.createElement("span");
                        a.style.addClass(l, "galleryCaptionBody"), o.append(r), o.append(l), n.append(i), n.append(o), e.gallery.list.append(n)
                    })), e.gallery.items && e.gallery.items.length > 1 && (e.gallery.prevButton = document.createElement("a"), e.gallery.prevButton.tabIndex = 0, e.gallery.prevButton.setAttribute("alt", "Previous slide"), a.style.addClass(e.gallery.prevButton, "galleryNavButton"), a.style.addClass(e.gallery.prevButton, "prev"), e.gallery.prevButton.addEventListener("click", (function() {
                        e.updateGallery(e, "prev")
                    })), e.gallery.prevButton.addEventListener("keydown", (function(t) {
                        13 === t.which && e.updateGallery(e, "prev")
                    })), t.appendChild(e.gallery.prevButton), e.gallery.nextButton = document.createElement("a"), e.gallery.nextButton.tabIndex = 0, e.gallery.nextButton.setAttribute("alt", "Next slide"), a.style.addClass(e.gallery.nextButton, "galleryNavButton"), a.style.addClass(e.gallery.nextButton, "next"), e.gallery.nextButton.addEventListener("click", (function() {
                        e.updateGallery(e, "next")
                    })), e.gallery.nextButton.addEventListener("keydown", (function(t) {
                        13 === t.which && e.updateGallery(e, "next")
                    })), t.appendChild(e.gallery.nextButton)), document.addEventListener("keydown", (function(t) {
                        e.gallery.isOpen && (39 === t.which && e.gallery.items && e.gallery.items.length > 1 ? e.updateGallery(e, "next") : 37 === t.which && e.gallery.items && e.gallery.items.length > 1 ? e.updateGallery(e, "prev") : 29 === t.which && e.modal.close())
                    })), e.modal.content.appendChild(t)
                }(t)
        }, t.galleryModal.prototype.initModal = function() {
            let t = this,
                n = t.element.getAttribute("data-id"),
                i = "galleryContentModal",
                o = "galleryWrapModal",
                r = "[data-ui-modal]";
            n && (i += n, o += n, r = ".modalOpener" + n);
            let l = {
                parent: t.element,
                openCallback: function(e) {
                    t.openGallery(e), a.style.addClass(document.body, "fixedBody")
                },
                closeCallback: function(e) {
                    t.closeGallery(e), a.style.removeClass(document.body, "fixedBody")
                },
                modalContentId: i,
                modalWrapId: o,
                modalWrapClass: "pl-modal",
                modalContentWrapClass: "pl-modal__content",
                selector: r
            };
            t.modal = new e.modal(l), t.modal.content = t.modal.config.modalContent.querySelector('[data-widget="gallery-modal"]'), t.modal.content && (t.modal.content.style.display = ""), t.gallery.items = [];
            for (let e = 0; e < t.element.children.length; e++) t.gallery.items[e] = {}, t.gallery.items[e].src = t.element.children[e].getAttribute("data-ui-src", e), t.element.children[e].getElementsByClassName("captionTitle").length > 0 && (t.gallery.items[e].captionTitle = t.element.children[e].getElementsByClassName("captionTitle")[0].innerHTML), t.element.children[e].getElementsByClassName("captionBody").length > 0 && (t.gallery.items[e].captionBody = t.element.children[e].getElementsByClassName("captionBody")[0].innerHTML), t.element.children[e].setAttribute("data-index", e)
        }, t.galleryModal.prototype.openGallery = function(e) {
            let t = this;
            t.gallery.currentIndex = parseInt(e.config.current.activator.closest(".galleryItem").getAttribute("data-index"));
            let a = n(t.gallery.currentIndex, t.gallery.items.length),
                o = i(t.gallery.currentIndex, t.gallery.items.length);
            t.assignSectionByIndex("current", t.gallery.currentIndex), t.assignSectionByIndex("prev", a), t.assignSectionByIndex("next", o), t.gallery.sliding = !1, t.gallery.isOpen = !0
        }, t.galleryModal.prototype.assignSectionByIndex = function(e, t) {
            let a = this,
                n = a.modal.content.querySelector("." + e),
                i = n.querySelector(".galleryImageContainer"),
                o = n.querySelector(".galleryFigCaptionContainer");
            i.setAttribute("src", a.gallery.items[t].src),
                function(e, t) {
                    if (e && t) {
                        let a = !0;
                        t.captionTitle && (e.childNodes[0].innerHTML = t.captionTitle, a = !1), t.captionBody && (e.childNodes[1].innerHTML = t.captionBody, a = !1), e.style.display = a ? "none" : ""
                    }
                }(o, a.gallery.items[t])
        }, t.galleryModal.prototype.closeGallery = function(e) {
            this.gallery.isOpen = !1
        }, t.galleryModal.prototype.updateGallery = function(e, t) {
            if (!e.gallery.sliding) {
                e.gallery.sliding = !0;
                let a = e.modal.content.querySelector(".prev"),
                    r = e.modal.content.querySelector(".current"),
                    l = e.modal.content.querySelector(".next");
                if ("prev" === t) {
                    e.gallery.currentIndex = n(e.gallery.currentIndex, e.gallery.items.length);
                    let t = n(e.gallery.currentIndex, e.gallery.items.length);
                    a = o(a, "prev", "current"), r = o(r, "current", "next"), l = o(l, "next", "prev"), e.assignSectionByIndex("prev", t), e.gallery.list.insertBefore(l, r), e.gallery.prev = l, e.gallery.current = a, e.gallery.next = r
                } else {
                    e.gallery.currentIndex = i(e.gallery.currentIndex, e.gallery.items.length);
                    let t = i(e.gallery.currentIndex, e.gallery.items.length);
                    l = o(l, "next", "current"), r = o(r, "current", "prev"), a = o(a, "prev", "next"), e.assignSectionByIndex("next", t), e.gallery.list.appendChild(a), e.gallery.prev = r, e.gallery.current = l, e.gallery.next = a
                }
                setTimeout((function() {
                    e.gallery.sliding = !1
                }), 400)
            }
        }
    }(PULSE.ui, PULSE.app.common, PULSE.core),
    function(e, t) {
        const a = ["click", "keypress"],
            n = ["mousedown", "touchdown"],
            i = "js-no-keyboard-focus",
            o = 13,
            r = 32;
        e.addAriaClickListener = function(e, t) {
            let i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                r = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
            const l = o ? a.filter((e => "click" !== e)).concat(n) : a,
                c = o ? n : "click",
                d = e => s(e, i, c) ? t(e) : null;
            for (let t = 0; t < l.length; t++) e.addEventListener(l[t], d, r);
            return d
        }, e.addMultiAriaClickListener = function(t, a) {
            let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
            Array.prototype.slice.call(t).forEach((t => e.addAriaClickListener(t, a, n, i)))
        }, e.removeAriaClickListener = function(e, t) {
            const i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2] ? a.filter((e => "click" !== e)).concat(n) : a;
            for (let a = 0; a < i.length; a++) e.removeEventListener(i[a], t)
        }, e.resetAriaMenuAttributes = e => {
            e.setAttribute("aria-expanded", "false"), e.setAttribute("aria-hidden", "true")
        }, e.toggleAriaMenuAttributes = e => {
            const t = e.getAttribute("aria-expanded"),
                a = e.getAttribute("aria-hidden");
            if (void 0 !== t) {
                const a = "true" === t ? "false" : "true";
                e.setAttribute("aria-expanded", a)
            }
            if (void 0 !== a) {
                const t = "true" === a ? "false" : "true";
                e.setAttribute("aria-hidden", t)
            }
        }, e.toggleZIndex = function(e) {
            let a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "a";
            const n = [].slice.call(e.querySelectorAll(a));
            for (let e = 0; e < n.length; e++) {
                const o = "-1" === n[e].getAttribute("tabindex");
                t.style.hasClass(n[e], i) || (o && l(a) ? n[e].removeAttribute("tabindex") : o ? n[e].setAttribute("tabindex", "0") : n[e].setAttribute("tabindex", "-1"))
            }
        };
        const l = e => "a" === e,
            s = (e, t, a) => {
                const n = Array.isArray(a) ? a.includes(e.type) : e.type === a;
                return !(e.which !== o && !n) || !(!t || e.which !== r)
            }
    }(PULSE.app.common, PULSE.core),
    function(e, t, a) {
        a.consent = {}, a.consent.getOobVendorConsent = function(a) {
            if (!a) return console.error("Attempted to get OOB Vendor consent but no Config Variable was found. Defaulting to rejected."), !1;
            const n = t.localStorage.getStorage(`${e.cookiePrefix}${e.cmpVendorCookieName}`, !0);
            if (n) {
                return JSON.parse(n)[a] || !1
            }
            return console.error('No "oobVendorCookie" is saved. Defaulting to rejected.'), !1
        }, a.consent.waitForConsentUpdate = function(e) {
            document.addEventListener("tcf-cmp/consents-updated", (() => {
                a.consent.getOobVendorConsent(e) && a.tracking.enableFacebookTracking()
            }))
        }
    }(PULSE.app, PULSE.core, PULSE.app.common),
    function(e, t) {
        t.content = {}, t.content.getModel = function(e, a) {
            let n = e || {},
                i = (a = a || {}).variantSize && a.variantSize[n.type] ? a.variantSize[n.type] : "Default Variant";
            switch (n.template = n.type, n.url = t.content.getUrl(n), n.order = a.order, n.type) {
                case "text":
                    {
                        n.date && (n.dateFormatted = t.formatDate(n.date, "date")),
                        n.leadMedia && n.leadMedia.variants && "video" !== n.leadMedia.type ? n.variant = t.getPhotoByVariant(n.leadMedia.variants, i) : n.leadMedia && n.leadMedia.thumbnailUrl && (n.variant = {
                            url: n.leadMedia.thumbnailUrl
                        });
                        const e = 10;n.timeToRead = n.subtitle && n.subtitle.length > e ? "8m" : "8 min read";
                        break
                    }
                case "video":
                    n.publishFrom ? n.dateFormatted = t.formatDate(parseInt(n.publishFrom), "date") : n.date && (n.dateFormatted = t.formatDate(n.date, "date")), n.thumbnail && n.thumbnail.variants && (n.variant = t.getPhotoByVariant(n.thumbnail.variants, i)), n.mediaClass = "media__item--video";
                    break;
                case "playlist":
                    n.date && (n.dateFormatted = t.formatDate(n.date, "date")), n.items && (n.photoCount = n.items.length), n.coverItem && n.coverItem.variants && (n.coverItem.variants.length > 1 ? n.variant = t.getPhotoByVariant(n.coverItem.variants, i) : n.variant = {
                        url: n.coverItem.thumbnailUrl
                    })
            }
            return n
        }, t.content.getUrl = function(e) {
            return e.hotlinkUrl ? e.hotlinkUrl : e.type && "text" === e.type.toLowerCase() && t.content.hasTag(e, "featured") ? t.generateContentUrl("news/featured", e.id) : t.generateContentUrl(e.type, e.id, e.typeRestriction)
        }, t.content.getContentModel = function(e, n, i) {
            if ("photo" !== e.type) e.leadMediaUrls = a(e, n), e.link = t.generateContentUrl(e.type, e, i);
            else {
                e.variantUrls = t.content.getVariantUrls(e.variants, n), e.playlist ? (e.link = t.generateContentUrl(e.playlist.type, e.playlist, "PHOTO"), e.link += t.generateContentUrl(e.type, e, i)) : e.link = "";
                let a = [];
                for (let e in n) a.push(n[e]);
                e.isPortrait = t.image.isPortrait(e, a)
            }
            return e.dateFormatted = t.formatDate(e.publishFrom, "date"), e
        }, t.content.getVariantUrls = function(e, a) {
            let n, i = {};
            if (e.length)
                for (n in a) {
                    let o = t.image.getVariantByTag(e, a[n]);
                    o && (i[n] = o.url)
                }
            return i
        }, t.content.getVariants = function(e) {
            let t = e.leadMedia || e.coverItem || e.thumbnail;
            if (t)
                if ("video" === t.type) {
                    if (null !== t.thumbnail && null !== t.thumbnail.variants && t.thumbnail.variants.length > 0) return t.thumbnail.variants
                } else if (null !== t.variants || t.variants.length > 0) return t.variants;
            return []
        }, t.content.hasTag = function(e, t) {
            if (e.tags && t)
                for (let a = 0, n = e.tags.length; a < n; a++) {
                    let n = e.tags[a];
                    if ("string" == typeof t) {
                        if (n.label && n.label.toLowerCase() === t.toLowerCase()) return !0
                    } else if (n.id === n) return !0
                }
            return !1
        }, t.content.getTotalDuration = function(e) {
            let a = e.reduce((function(e, t) {
                return e + t.duration
            }), 0);
            return t.durationToTime(a)
        }, t.content.getVideoTag = function(e) {
            const t = ["fpl", "fantasy", "on this day", "iconic moment", "iconic moments", "goal of the day", "classic match", "milestones", "trickbox"],
                a = e.tags || [];
            let n = "";
            return a.forEach((e => {
                t.includes(e.label.toLowerCase()) && (n = e.label)
            })), n
        };
        const a = function(e, a) {
            const n = t.content.getVariants(e),
                i = t.content.getVariantUrls(n, a);
            if (0 === n.length || 0 === Object.keys(i).length)
                for (let t in a) i[t] = e.imageUrl;
            return i
        }
    }(PULSE.app, PULSE.app.common),
    function(e, t) {
        const a = 60,
            n = 3600;
        e.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], e.momentGetDaysFromRange = function(e, a, n, i) {
            let o = e instanceof Date ? e : new Date(e),
                r = a instanceof Date ? a : new Date(a),
                l = o.getTime(),
                s = (r.getTime(), []),
                c = l;
            i && o.toLocaleDateString() !== r.toLocaleDateString() && s.push({
                date: o,
                string: moment && n ? moment(o).locale(t.language).format(n) : o.toLocaleDateString(),
                std: !!moment && moment(o).format("DD-MM-YYYY")
            });
            do {
                c += 864e5;
                let e = new Date(c);
                s.push({
                    date: e,
                    string: moment && n ? moment(e).locale(t.language).format(n) : e.toLocaleDateString(),
                    std: !!moment && moment(e).format("DD-MM-YYYY")
                })
            } while (c < r.getTime());
            return s
        }, e.getSinceString = function(e, t) {
            if (e) {
                let n, i = new Date,
                    o = Math.floor((i - e) / 1e3);
                return o <= 0 ? t ? t.justNow : "just now" : o < a ? (n = Math.round(o), n + (t ? t.seconds : "s")) : o < 3600 ? (n = Math.round(o / a), n + (t ? t.minutes : "m")) : o < 86400 ? (n = Math.round(o / 3600), n + (t ? t.hours : "h")) : (n = Math.round(o / 86400), n + (t ? t.days : "d"))
            }
        }, e.formatDate = function(t, a) {
            if (t) {
                let n = new Date(t);
                if (n && "object" == typeof n) {
                    let i;
                    try {
                        switch (a) {
                            case "date":
                                let a = n.getDate(),
                                    o = n.getMonth(),
                                    r = n.getFullYear();
                                i = a + " " + e.monthNames[o] + " " + r;
                                break;
                            case "time":
                                break;
                            default:
                                i = t
                        }
                    } catch (e) {
                        i = t
                    }
                    return i
                }
            }
            return null
        }, e.durationToTime = function(e) {
            let t = parseInt(e, 10);
            if (t) {
                let e = Math.floor(t / n),
                    i = Math.floor((t - e * n) / a),
                    o = t - e * n - i * a;
                e < 10 && (e = "0" + e), i < 10 && (i = "0" + i), o < 10 && (o = "0" + o);
                let r = i + ":" + o;
                return e > 0 ? e + ":" + r : r
            }
            return "00:00"
        }, e.getTime = function(e) {
            if (e) {
                let t = "string" == typeof e ? new Date(e) : e,
                    a = t.getHours(),
                    n = t.getMinutes();
                return a < 10 && (a = "0" + a), n < 10 && (n = "0" + n), a + ":" + n
            }
            return null
        }
    }(PULSE.app.common, PULSE.app), PULSE.app.common.debounce = function(e) {
        let t, a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 300;
        return function(n) {
            t && clearTimeout(t), t = setTimeout(e, a, n)
        }
    },
    function(e, t) {
        e.event = e.event || {}, e.event.VIDEO = {
            START: "video/start",
            END: "video/end",
            READY: "player/ready",
            PLAY: "player/play-video",
            PAUSE: "player/pause-video",
            CLOSE_FULL_SCREEN: "player/full-screen-closed"
        }, e.event.PLAYLIST = {
            SET_MEDIA: "playlist/set-media",
            SET_TITLE: "playlist/set-title"
        }, e.event.dispatch = function(e, a, n, i) {
            i = t.object.extend({
                bubbles: !0,
                cancelable: !0
            }, i || {}), (n || document.body).dispatchEvent(new CustomEvent(e, {
                detail: a || {},
                bubbles: i.bubbles,
                cancelable: i.cancelable
            }))
        }
    }(PULSE.app.common, PULSE.core),
    function(e, t, a) {
        t.image = {}, t.image.getVariantByTag = function(e, t, a, n) {
            for (let a = 0; a < e.length; a++)
                if (e[a].tag.label === t) return e[a];
            return null
        }, t.image.isPortrait = function(e, t) {
            for (let a = 0, n = e.variants.length; a < n; a++) {
                let n = e.variants[a];
                if (t.indexOf(n.tag.label) > -1 && n.height > n.width) return !0
            }
            return !1
        }, t.image.setPlaceholderThumb = function(e) {
            "true" !== e.getAttribute("data-image-initialised") && (e.onerror || e.onload || (e.onerror = t.image.onThumbError.bind(null, e), e.onload = t.image.onThumbLoaded.bind(null, e)), e.src = null, e.src = e.getAttribute("data-src"), e.setAttribute("data-image-initialised", "true"))
        }, t.image.loadIfInView = function(e) {
            "true" !== e.getAttribute("data-image-initialised") && t.isElementInViewport(e) && (e.src = e.getAttribute("data-src"), e.setAttribute("data-image-initialised", "true"))
        }, t.image.onThumbError = function(e) {
            !a.style.hasClass(e.parentElement, "thumb-placeholder") && e.getAttribute("src") && a.style.addClass(e.parentElement, "thumb-placeholder"), e.onerror = null
        }, t.image.onThumbLoaded = function(e) {
            a.style.addClass(e, "is-loaded")
        }, t.getPhotoByVariant = function(e, t) {
            let a, n;
            for (n = 0; n < e.length; n++)
                if (e[n].tag.label === t) {
                    a = e[n];
                    break
                }
            return a || null
        }, t.setPlayerImageLoader = function(e, a, n, i, o) {
            let r = t.getPlayerImg(e, a, i, o),
                l = t.getDefaultPlayerImg(a),
                s = new Image;
            s.onload = function() {
                n.setAttribute("src", r)
            }, s.onerror = function() {
                n.getAttribute("data-error") || (n.setAttribute("data-error", !0), n.setAttribute("src", l))
            }, s.setAttribute("src", r)
        }, t.getDefaultPlayerImg = function(e) {
            return t.getPlayerImg("Photo-Missing", e)
        }, t.getPlayerImg = function(t, a, n, i) {
            return e.environment.playerImagePath + a + "/" + t + "." + (n || "png")
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t) {
        t.metadata = {}, t.metadata.setTitles = function(e) {
            if (!e) return;
            let t = document.head.querySelector("title"),
                a = document.head.querySelector('meta[name="twitter:title"]') || null,
                n = document.head.querySelector('meta[property="og:title"]') || null;
            t.textContent !== e && (t.textContent = e, a && a.setAttribute("content", e), n && n.setAttribute("content", e))
        }, t.metadata.setDescriptions = function(e) {
            if (!e) return;
            let t = document.head.querySelector('meta[name="description"]') || null,
                a = document.head.querySelector('meta[name="twitter:description"]') || null,
                n = document.head.querySelector('meta[property="og:description"]') || null;
            t && t.getAttribute("content") !== e && (t.setAttribute("content", e), a && a.setAttribute("content", e), n && n.setAttribute("content", e))
        }
    }(PULSE.app, PULSE.app.common),
    function(e) {
        void 0 === e.security && (e.security = {}), e.security.sanitize = e => e.replace(/(&|<|"|#|\/|>|\(|\)|;)/g, "")
    }(PULSE.app.common),
    function(e, t) {
        t.templating = {}, t.templating.stringToElement = function(e) {
            const t = document.createElement("div");
            return t.innerHTML = e.trim(), t.firstChild
        }
    }(PULSE.app, PULSE.app.common),
    function(e, t) {
        t.tracking = {}, t.tracking.getHeader = function(e) {
            let t = new XMLHttpRequest;
            return t.open("GET", document.location), t.send(null), t.getResponseHeader(e)
        }, t.tracking.googleTrack = function(t) {
            "development" !== e.environment.label && (window.dataLayer || (window.dataLayer = []), window.dataLayer.push({
                event: "pageView",
                platform: t,
                pageUrl: window.location.href
            }))
        }, t.tracking.enableFacebookTracking = function() {
            window.dataLayer || (window.dataLayer = []), window.dataLayer.push({
                event: "facebookConsentGiven"
            })
        }
    }(PULSE.app, PULSE.app.common),
    function(e, t) {
        t.urlHelpers = {}, t.urlHelpers.removeURLParam = function(e) {
            const t = new URL(window.location.href),
                a = new URLSearchParams(t.search);
            a.delete(e);
            const n = t.origin + t.pathname + `?${a.toString()}`;
            history.replaceState(null, "", n)
        }
    }(PULSE.app, PULSE.app.common),
    function(e, t) {
        t.widget = {}, t.widget.getNumberAttribute = function(e, t) {
            let a = parseInt(t.getAttribute(e), 10);
            if (!1 === isNaN(a)) return a
        }, t.widget.getArrayAttribute = function(e, t) {
            let a = t.getAttribute(e);
            if (a) return a.split(",").map((function(e) {
                return e.trim()
            })).filter((function(e) {
                return void 0 !== e && "" !== e
            }))
        }
    }(PULSE.app, PULSE.app.common),
    function(e, t, a) {
        let n = {
            root: null,
            rootMargin: "0px",
            threshold: 0
        };
        a.LazyLoad = function(e) {
            let t = this;
            t.element = e, t.thumbs = [], t.range = 0, t.setObservableListener()
        }, a.LazyLoad.prototype.setObservableListener = function() {
            let e = this;
            e.observer = new IntersectionObserver(e.onActivate.bind(e), n), e.observer.observe(e.element)
        }, a.LazyLoad.prototype.loadThumb = function(e, a) {
            let n = this;
            e.setAttribute("src", e.getAttribute("data-src")), e.onload = function() {
                e.removeAttribute("data-src"), t.style.removeClass(a, "placeholder"), a.setAttribute("data-initialised", "true"), n.staggerThumbLoading()
            }
        }, a.LazyLoad.prototype.onActivate = function(e) {
            let t = this;
            Array.prototype.forEach.call(e, (function(e) {
                e.isIntersecting && (t.thumbs = t.filterThumbs(e.target.querySelectorAll(".js-content-load")), t.thumbs.length > 0 && t.staggerThumbLoading())
            }))
        }, a.LazyLoad.prototype.filterThumbs = function(e) {
            let t = [];
            for (let a = 0; a < e.length; a++) "false" === e[a].getAttribute("data-initialised") && t.push(e[a]);
            return t
        }, a.LazyLoad.prototype.shuffleList = function(e) {
            let t = [];
            for (let a = 0; a <= e.length - 1; a++) t.push(a);
            if (t.length) {
                for (let e = t.length - 1; e > 0; e--) {
                    let a = Math.floor(Math.random() * (e + 1)),
                        n = t[e];
                    t[e] = t[a], t[a] = n
                }
                return t
            }
            return !1
        }, a.LazyLoad.prototype.staggerThumbLoading = function() {
            let e = this;
            if (e.thumbs.length > 0 && e.thumbs.length !== e.range) {
                let t = e.thumbs[e.range] ? e.thumbs[e.range] : "";
                if (t) {
                    let a = t.querySelector("img");
                    t && a && e.loadThumb(a, t), e.range++, e.staggerThumbLoading()
                }
            }
        };
        let i = document.querySelectorAll('[data-widget="lazy-load"]');
        for (let e = 0; e < i.length; e++) new a.LazyLoad(i[e], {})
    }(PULSE.app, PULSE.core, PULSE.app.common),
    function(e) {
        e.filterDropdownDelegate = function() {}, e.filterDropdownDelegate.prototype.didUpdate = function(e) {}, e.filterDropdownDelegate.prototype.didFinishUpdate = function(e) {}, e.filterDropdownDelegate.prototype.didClear = function(e) {}, e.filterDropdownDelegate.prototype.didOpen = function(e) {}, e.filterDropdownDelegate.prototype.didClose = function(e) {}, e.filterDropdownDelegate.prototype.didOptionSelect = function(e) {}
    }(PULSE.app.common),
    function(e) {
        e.filterControllerDelegate = function() {}, e.filterControllerDelegate.prototype.filterCleared = function() {}, e.filterControllerDelegate.prototype.dropDownOpened = function() {}, e.filterControllerDelegate.prototype.dropDownOptionSelected = function() {}, e.filterControllerDelegate.prototype.filterUpdated = function(e) {}
    }(PULSE.app.common),
    function(e, t, a, n, i) {
        let o = function(e, t) {
                t.label && (t.label = i.lookup("label." + t.label)), t.defaultOption && (t.defaultOption = i.lookup("label." + t.defaultOption)), t.data && t.data.length > 0 && t.data.map((function(e) {
                    e.optionLabel && (e.optionName = i.lookup("label." + e.optionLabel))
                })), n.dom.appendDomString(e.container, Mustache.render(a.listfilter, {
                    dropdown: t,
                    defaultItem: undefined,
                    visibleOnMobile: e.config.visibleMobile || !1,
                    getIndex: function() {
                        let e = 0;
                        return function() {
                            return function(t, a) {
                                return e++
                            }
                        }
                    }()
                })), e.element = e.container.querySelector('[data-dropdown-block="' + e.config.name + '"]'), e.current = e.container.querySelector('[data-dropdown-current="' + e.config.name + '"]'), e.list = e.container.querySelector('[data-dropdown-list="' + e.config.name + '"]'), e.defaultOptionId && !e.autoInitStateId && (e.autoInitStateId = e.defaultOptionId)
            },
            r = function(e) {
                for (let t = 0; t < e.length; t++) n.style.removeClass(e[t], "highlight")
            },
            l = function(e, a) {
                let i = a.getAttribute("data-dropdown-list");
                var o, r;
                t.scrollElementAnimated('[data-dropdown-list="' + i + '"]', e, 0, 90), o = e, r = a, n.style.addClass(o, "highlight"), o.addEventListener("mouseout", (function(e) {
                    n.style.removeClass(o, "highlight")
                })), r.addEventListener("mouseover", (function(e) {
                    e.target.getAttribute("data-option-name") !== o.getAttribute("data-option-name") && n.style.removeClass(o, "highlight")
                }))
            },
            s = function(e) {
                let t = this;
                if ("keypress" === e.type && (e.code.indexOf("Key") > -1 && e.key || e.code.indexOf("Digit") > -1)) {
                    let a = t.querySelector("[data-dropdown-list]"),
                        n = function(e, t) {
                            let a, n = e.children;
                            for (let e = 0; e < n.length; e++)
                                if (n[e].getAttribute("data-option-name").charAt(0).toLowerCase() === t.toLowerCase()) {
                                    a = n[e];
                                    break
                                }
                            return a
                        }(a, e.key);
                    r(a.children), n && l(n, a)
                }
            },
            c = function(e) {
                ["keypress", "click"].forEach((function(t) {
                    let a = e.element.querySelector("[data-dropdown-current]"),
                        n = s.bind(e.element),
                        i = e.element.querySelector("[data-dropdown-list]");
                    a && !a.getAttribute("data-listen-" + t) && (a.addEventListener(t, (function(t) {
                        if (13 === t.which || "click" === t.type) {
                            e.showHide(), "true" === a.getAttribute("aria-expanded") ? (a.blur(), document.addEventListener("keypress", n)) : (r(i.children), document.removeEventListener("keypress", n))
                        }
                    })), a.setAttribute("data-listen-" + t, !0)), i && !i.getAttribute("data-listen-" + t) && (i.addEventListener(t, (function(t) {
                        if (13 === t.which || "click" === t.type) {
                            let a = t.target;
                            a.getAttribute("data-option-name") && a.getAttribute("data-option-id") && a.getAttribute("data-option-index") && (e.state.setState(!1, a.getAttribute("data-option-name"), a.getAttribute("data-option-id"), !1, a.getAttribute("data-option-index")), e.setOption(e.state.name), e.delegate.didOptionSelect(e.state.name), e.delegate.didFinishUpdate(!0), e.showHide())
                        }
                    })), i.setAttribute("data-listen-" + t, !0))
                }))
            };
        t.dropDownItem = function(a, n, i) {
            let r = this;
            if (r.container = a, r.delegate = n, r.config = i, r.element = !1, r.current = !1, r.openClass = "open", r.state = new t.dropDownItemState, r.dependencyMap = !1, r.currentListData = !1, r.subscriber = {
                    target: r,
                    headers: [e.accountHeader],
                    method: "GET",
                    callback: r.renderOptions,
                    constant: !0,
                    forceCallback: !0
                }, r.autoInitStateId = void 0, r.defaultOptionId = i.defaultOptionId || !1, r.config.dependencies && r.config.dependencies.length > 0) {
                r.dependencyMap = {};
                for (let e = 0; e < r.config.dependencies.length; e++) r.dependencyMap[r.config.dependencies[e]] = new t.dropDownItemState
            }
            r.config && r.config.name && o(r, r.config)
        }, t.dropDownItem.prototype.init = function() {
            ! function(e) {
                if (e.initialisedOptions = !1, e.config.urlParameter) {
                    let t = n.url.getParam(e.config.urlParameter);
                    t && (e.autoInitStateId = t)
                }
                e.defaultOptionId && !e.autoInitStateId && (e.autoInitStateId = e.defaultOptionId), e.config.data && (!e.config.dependencies || e.config.dependencies.length < 1) && e.renderOptions(), !e.config.dataUrl || e.config.dependencies && 0 !== e.config.dependencies.length || e.config.dataDependency || (e.setLoading(), e.subscriber.url = e.config.dataUrl, n.data.manager.add(e.subscriber))
            }(this)
        }, t.dropDownItem.prototype.updateOptionsFromDependencies = function(t, a) {
            let i = this;
            if (i.displayDefaultOption(!1, !1, !0), i.setInactive(), i.delegate && i.delegate.dropdownRendered(i.config.index), !i.isloading) {
                if (i.dependencyMap[t] && (i.dependencyMap[t] = a), i.config.dependancyCheck && "function" == typeof i.config.dependancyCheck) {
                    if (!i.config.dependancyCheck(i.dependencyMap)) return
                }
                if (i.config.dataDependency && t === i.config.dataDependency && a.list) return -1 !== a.index ? (i.renderOptions(a.list[a.index]), i.setActive()) : (i.state.list = [], i.setInactive(), i.displayDefaultOption(!1, !1, !0)), i.autoInitStateId && !i.defaultItem || i.displayDefaultOption(), void(i.autoInitStateId = void 0);
                i.subscriber.url = function(t) {
                    let a = t.config.dataUrl || !1,
                        n = 0;
                    for (let e = 0; e < t.config.dependencies.length; e++)
                        if (a) {
                            let i = t.config.dependencies[e];
                            if (n = t.config.depMethods && t.config.depMethods[e].default && -1 === parseInt(t.dependencyMap[i].id) ? t.config.depMethods[e].default : t.dependencyMap[i].id, -1 === parseInt(n)) return t.list.innerHTML = "", !1;
                            a = a.replace("{{" + i + "}}", n)
                        }
                    if (t.config.depMethods)
                        for (let i = 0; i < t.config.depMethods.length; i++) {
                            let o = t.config.depMethods[i];
                            o.method && e.filterData[o.method] && (a = a.replace("{{" + o.label + "}}", e.filterData[o.method](n)))
                        }
                    return a
                }(i), i.subscriber.url && (i.setLoading(), n.data.manager.add(i.subscriber)), i.config.data && i.renderOptions(void 0, void 0, !0)
            }
        }, t.dropDownItem.prototype.getAutoOptionIndex = function() {
            let e = this;
            if (e.autoInitStateId && e.options && e.options.length > 0)
                for (let t = 0; t < e.options.length; t++)
                    if (e.options[t].optionId === e.autoInitStateId) return t;
            return -1
        }, t.dropDownItem.prototype.displayDefaultOption = function(e, t, a) {
            let i = this,
                o = i.getAutoOptionIndex();
            if (o > -1 && i.options[o] && t) {
                let e = i.options[o];
                i.state.setState(!1, e.optionName, e.optionId, !1, o), i.setOption(e.optionName)
            } else if (!i.config.defaultOption || "-1" !== i.autoInitStateId && !a && (void 0 !== i.config.defaultIndex || i.defaultOptionId && -1 !== i.defaultOptionId && 0 !== i.state.list.length)) {
                if (i.defaultOptionId && i.defaultItem) {
                    let e = !1;
                    for (let t = 0; t < i.state.list.length; t++) n.object.getNestedItemFromPath(i.config.dataIdPath, i.state.list[t]) === i.defaultItem.optionId && (e = !0);
                    e ? i.state.setState(!1, i.defaultItem.optionName, i.defaultItem.optionId, !1, i.defaultItemIndex) : i.state.setState(!1, n.object.getNestedItemFromPath(i.config.dataNamePath, i.state.list[0]), n.object.getNestedItemFromPath(i.config.dataIdPath, i.state.list[0]), !1, 0), i.setOption(i.state.name)
                } else if (i.state.list && i.state.list.length > 0) {
                    let e = i.config.defaultIndex || 0;
                    e > i.state.list.length && (e = i.state.list.length - 1), e < 0 && (e = 0), i.state.setState(!1, n.object.getNestedItemFromPath(i.config.dataNamePath, i.state.list[e]), n.object.getNestedItemFromPath(i.config.dataIdPath, i.state.list[e]), !1, e), i.setOption(i.state.name)
                }
            } else i.state.setState(!1, i.config.defaultOption, -1, !1, -1), i.setOption(i.config.defaultOption);
            i.hide()
        }, t.dropDownItem.prototype.setOption = function(e) {
            let t = this;
            t.current.textContent = e, t.checkActive(), t.delegate.didUpdate(t)
        }, t.dropDownItem.prototype.checkActive = function() {
            let e = this; - 1 !== e.state.index ? n.style.addClass(e.element, "active") : n.style.removeClass(e.element, "active")
        }, t.dropDownItem.prototype.restoreOptions = function(e) {
            let a = this;
            a.initialisedOptions = !1, a.state = e;
            let i = Object.keys(e);
            for (a.state = new t.dropDownItemState, d = 0; d < i.length; d++) a.state[i[d]] = e[i[d]];
            if (a.config.urlParameter) {
                let e = n.url.getParam(a.config.urlParameter);
                e && (a.autoInitStateId = e)
            }
            a.checkActive(), a.renderOptions(!1, !1, !0)
        }, t.dropDownItem.prototype.renderOptions = function(e, t, i) {
            let o = this;
            !o.initialisedOptions && o.config.data && (e = o.config.data), i || (o.state.list = n.object.getNestedItemFromPath(o.config.dataListPath, e)), o.config.listTransform && "function" == typeof o.config.listTransform && (o.state.list = o.config.listTransform(o.state.list, o.element, o)), !o.state.list && e && (o.state.list = e), o.options = [];
            for (let e = 0; e < o.state.list.length; e++) o.state.list[e].hasOwnProperty("gameweek") && "U" === o.state.list[e].status || (o.options.push({
                optionName: n.object.getNestedItemFromPath(o.config.dataNamePath, o.state.list[e]),
                optionId: n.object.getNestedItemFromPath(o.config.dataIdPath, o.state.list[e]),
                class: o.state.list[e].class || o.config.defaultClass
            }), o.autoInitStateId && !o.initialisedOptions && o.options[e].optionId === o.autoInitStateId && (o.defaultItem = o.options[e], o.defaultItemIndex = e, o.state.setState(!1, o.defaultItem.optionName, o.defaultItem.optionId, !1, e), o.setOption(o.state.name)));
            o.config.hasOwnProperty("displayDefaultOption") || o.config.displayDefaultOption || o.displayDefaultOption(!1, !0), o.list.innerHTML = Mustache.render(a.listfilteroption, {
                config: o.config,
                optionData: o.options,
                getIndex: function() {
                    let e = 0;
                    return function() {
                        return function(t, a) {
                            return e++
                        }
                    }
                }()
            }), i && (o.autoInitStateId = void 0), o.setActive(), o.isloading && o.stopLoading(), o.initialisedOptions = !0, o.delegate && o.delegate.dropdownRendered(o.config.index), c(o)
        }, t.dropDownItem.prototype.setLoading = function() {
            let e = this;
            e.isloading = !0, e.loaderElement || (e.loaderElement = document.createElement("div"), e.loaderElement && (e.loaderElement.innerHTML = a.loader, e.loaderElement = e.loaderElement.children[0])), e.element.insertBefore(e.loaderElement, e.element.firstChild)
        }, t.dropDownItem.prototype.stopLoading = function() {
            let e = this;
            e.isloading = !1, e.loaderElement && (e.element.removeChild(e.loaderElement), e.loaderElement = void 0)
        }, t.dropDownItem.prototype.setActive = function() {
            let e = this;
            e.element.classList.remove("inactive"), e.list.removeAttribute("aria-disabled"), e.current.removeAttribute("aria-disabled"), e.current.setAttribute("tabindex", "0")
        }, t.dropDownItem.prototype.setInactive = function() {
            let e = this;
            e.element.classList.add("inactive"), e.list.setAttribute("aria-disabled", "true"), e.current.setAttribute("aria-disabled", "true"), e.current.setAttribute("tabindex", "-1")
        }, t.dropDownItem.prototype.openDropdown = function(e) {
            let t = this;
            n.style.addClass(e, t.openClass), n.event.listenForOutsideClick.addElement(e, t.closeDropdown.bind(t), e)
        }, t.dropDownItem.prototype.closeDropdown = function(e) {
            n.style.removeClass(e, this.openClass), n.event.listenForOutsideClick.removeElement(e, this.closeDropdown)
        }, t.dropDownItem.prototype.showHide = function() {
            let e = this,
                t = e.element.getElementsByClassName("current"),
                a = e.container.getElementsByClassName("dropDown");
            for (let t = 0; t < a.length; t++) a[t] !== e.element && (a[t].classList.remove("open"), a[t].getElementsByClassName("current")[0].setAttribute("aria-expanded", "false"));
            if (e.list.children.length > 0 && e.isActive()) {
                if (e.list.children[0].focus(), n.style.hasClass(e.element, e.openClass) ? e.closeDropdown(e.element) : e.openDropdown(e.element), e.state.open = e.element.classList.contains(e.openClass), "true" === t[0].getAttribute("aria-expanded") ? t[0].setAttribute("aria-expanded", "false") : t[0].setAttribute("aria-expanded", "true"), e.state.open) return void e.delegate.didOpen(e);
                e.delegate.didClose(e)
            }
        }, t.dropDownItem.prototype.isActive = function() {
            return !this.element.classList.contains("inactive")
        }, t.dropDownItem.prototype.hide = function() {
            let e = this;
            e.element.classList.remove(e.openClass), e.state.open = !1, e.delegate.didClose(e)
        }
    }(PULSE.app, PULSE.app.common, PULSE.app.templates, PULSE.core, PULSE.I18N),
    function(e) {
        e.dropDownItemState = function(e, t, a, n, i) {
            this.open = e || !1, this.name = t || !1, this.id = a || -1, this.list = n || !1, this.index = i || -1
        }, e.dropDownItemState.prototype.setState = function(e, t, a, n, i) {
            this.open = e, this.name = t, this.id = a || this.id, this.list = n || this.list, this.index = "number" == typeof parseInt(i) ? i : this.index
        }
    }(PULSE.app.common),
    function(e, t, a) {
        a.listFilterClubSeasons = function(e, n, i) {
            var o = this;
            o.list = e, o.team = n, o.filterController = i;
            var r = {
                url: a.createApiPath("clubs.single", {
                    id: o.team
                }),
                method: "GET",
                callback: o.filterCompSeasons,
                forceCallback: !0,
                target: this
            };
            t.data.manager.add(r)
        }, a.listFilterClubSeasons.prototype.filterCompSeasons = function(e) {
            var t, a = e.teams[0].grounds,
                n = [];
            a.forEach((function(e) {
                n = n.concat(e.compSeasonIds)
            })), t = this.list.filter((function(e) {
                return n.find((function(t) {
                    return t === e.id
                }))
            })), this.filterController.dropdowns.compSeasons.renderOptions(t)
        }
    }(PULSE.app, PULSE.core, PULSE.app.common),
    function(e, t, a, n, i) {
        let o = function(e) {
            let t = Object.keys(e.dropdowns);
            e.url = window.location.href, t.map((function(t) {
                let n = e.dropdowns[t];
                if (n.config.urlParameter) {
                    let t = n.isActive() ? n.state.id : -1;
                    e.url = a.url.updateUrlStringParam(e.url, n.config.urlParameter, t)
                }
            }));
            let n = e.getState();
            n && (n = JSON.parse(JSON.stringify(n))), history.pushState(n, "", e.url)
        };
        t.listFilterController = function(e, o) {
            let r = this;
            if (r.element = e, r.config = o, r.intervalChecker = !1, r.dropdowns = {}, r.delegate = r.config.delegate || !1, r.tracking = r.config.tracking || !1, r.noInit = r.config.noInit, r.updateUrl = this.element.getAttribute("data-use-history") || this.element.getAttribute("data-use-basic-history") || !1, r.basicHistory = this.element.getAttribute("data-use-basic-history") || !1, r.defaultItemIds = r.element.getAttribute("data-filter-default-ids") || !1, r.url = !1, function(e, i, o) {
                    e.mobileHeader = a.dom.appendDomString(e.element, Mustache.render(n.mobileheader, {
                        title: "Adjust Filters"
                    })), e.defaultItemIds && (e.defaultItemIds = e.defaultItemIds.split(",")), e.renderedDropdowns = [], e.dropdownsRendered = !1, 1 == i.length && a.style.addClass(e.element, "singleFilter");
                    for (var r = 0; r < i.length; r++) {
                        let a = i[r];
                        e.defaultItemIds && e.defaultItemIds[r] && !a.defaultOptionId && (a.defaultOptionId = e.defaultItemIds[r]), a.index = r, a.visibleMobile = r === i.length - 1, e.dropdowns[a.name] = new t.dropDownItem(e.element, e, a)
                    }
                    for (r = 0; r < i.length; r++) {
                        let t = i[r];
                        e.dropdowns[t.name].init()
                    }
                    e.advancedFilterButtons = a.dom.appendDomString(e.element, Mustache.render(n.mobilefooter, {
                        title: "Adjust Filters",
                        theme: e.config.theme || null
                    }), !0, !0), e.didFinishUpdate(!0, !0)
                }(r, o.dropdowns, r.config), "true" === r.element.getAttribute("data-reset-available")) {
                let e = document.createElement("div");
                e.innerHTML = Mustache.render(n.resetbutton, {
                    translator: function() {
                        return function(e, t) {
                            return i.lookup(e)
                        }
                    },
                    theme: r.config.theme || null
                }), e.children[0].addEventListener("click", (function() {
                    r.resetAll()
                })), e.children[0].addEventListener("keypress", (function(e) {
                    13 === (e.keyCode || e.which) && r.resetAll()
                })), r.element.appendChild(e.children[0])
            }! function(e) {
                window.onpopstate = function(t) {
                    if (t.state && t.state.length)
                        for (let a = 0; a < t.state.length; a++) e.dropdowns[t.state[a].name].restoreOptions(t.state[a].state);
                    e.didFinishUpdate(!1)
                }, e.advancedFilterButtons && e.advancedFilterButtons.length > 0 && e.advancedFilterButtons[0].addEventListener("click", (function(t) {
                    e.element.classList.toggle("open")
                })), e.advancedFilterButtons && e.advancedFilterButtons.length > 1 && e.advancedFilterButtons[1].addEventListener("click", (function(t) {
                    e.element.classList.remove("open")
                })), e.mobileHeader && e.mobileHeader.addEventListener("click", (function(t) {
                    e.element.classList.remove("open")
                }))
            }(r)
        }, t.listFilterController.prototype = Object.create(t.filterDropdownDelegate.prototype), t.listFilterController.prototype.resetAll = function() {
            let e = this,
                t = Object.keys(e.dropdowns);
            for (let a = 0; a < t.length; a++) e.dropdowns[t[a]].displayDefaultOption(!0);
            e.delegate && e.delegate.filterCleared(e.getState()), e.updateUrl && o(e), e.delegate && e.waitForLoadComplete((function() {
                e.delegate.filterUpdated(e.getState())
            }))
        }, t.listFilterController.prototype.setPageLoading = function(t, n, o) {
            if (o) {
                let e = o.class || "";
                a.style.addClass(n, e)
            }
            t.loaderMarkup = t.loaderMarkup || Mustache.render(e.templates.scrollloader, {
                load: i.lookup("label.loadingmore")
            }), n.innerHTML = '<div class="loader">' + t.loaderMarkup + "</div>"
        }, t.listFilterController.prototype.getState = function() {
            let e = this;
            return Object.keys(e.dropdowns).map((function(t) {
                return e.basicHistory ? {
                    name: e.dropdowns[t].config.name,
                    state: e.dropdowns[t].state,
                    active: e.dropdowns[t].isActive()
                } : {
                    name: e.dropdowns[t].config.name,
                    state: e.dropdowns[t].state,
                    config: e.dropdowns[t].config,
                    autoId: e.dropdowns[t].autoInitStateId,
                    active: e.dropdowns[t].isActive()
                }
            }))
        }, t.listFilterController.prototype.didUpdate = function(e) {
            ! function(e, t) {
                let a = Object.keys(e.dropdowns);
                for (let n = 0; n < a.length; n++) e.dropdowns[a[n]].config.dependencies && e.dropdowns[a[n]].config.dependencies.indexOf(t.config.name) > -1 && e.dropdowns[a[n]].updateOptionsFromDependencies(t.config.name, t.state)
            }(this, e)
        }, t.listFilterController.prototype.didFinishUpdate = function(e, t) {
            let a = this;
            !a.delegate || a.noInit && t ? a.updateUrl && e && !t && o(a) : a.waitForLoadComplete((function() {
                a.updateUrl && e && !t && o(a), a.delegate.filterUpdated(a.getState(), t)
            }))
        }, t.listFilterController.prototype.waitForLoadComplete = function(e) {
            let t = this;
            t.intervalChecker || (t.intervalChecker = setInterval((function() {
                let a = !0,
                    n = Object.keys(t.dropdowns);
                for (let e = 0; e < n.length; e++) t.dropdowns[n[e]].isloading && (a = !1);
                a && (clearInterval(t.intervalChecker), t.intervalChecker = null, e())
            }), 500))
        }, t.listFilterController.prototype.dropdownRendered = function(e) {
            let t = this;
            t.renderedDropdowns.indexOf(e) < 0 && t.renderedDropdowns.push(e)
        }, t.listFilterController.prototype.didOpen = function(e) {
            let t = this;
            t.delegate && t.tracking && t.delegate.dropDownOpened(e)
        }, t.listFilterController.prototype.didOptionSelect = function(e) {
            let t = this;
            t.delegate && t.tracking && t.delegate.dropDownOptionSelected(e)
        }, t.listFilterController.prototype.hasUrlUpdate = function() {
            return this.updateUrl
        }, t.listFilterController.prototype.hide = function() {
            this.element.style.display = "none"
        }, t.listFilterController.prototype.show = function() {
            this.element.style.display = ""
        }
    }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N),
    function(e) {
        e.scrollLoaderDelegate = function() {}, e.scrollLoaderDelegate.prototype.didRequestLoad = function() {}
    }(PULSE.app.common),
    function(e, t, a, n) {
        var i = function(e) {
                e.element = t.dom.appendDomString(e.container, '<div class="loader" data-scroll-loader style="min-height:10px;" ></div>')
            },
            o = function(e) {
                (e.boundary || document).addEventListener("scroll", (function(t) {
                    var a;
                    !e.loading && e.element && (a = e.boundary ? e.element.getBoundingClientRect().top - e.boundary.getBoundingClientRect().top : e.element.getBoundingClientRect().top, (e.boundary.clientHeight || window.innerHeight) - a >= e.limit && 0 !== e.element.offsetHeight && (e.loading = !0, l(e), e.delegate && e.delegate.didRequestLoad()))
                }))
            },
            r = function(e) {
                e.element.style.display = "block", l(e)
            },
            l = function(e) {
                if (e.element) {
                    var t = n ? n.lookup("label.loadingmore") : "Loading More...";
                    e.element.innerHTML = Mustache.render(a.scrollloader, {
                        load: t
                    })
                }
            };
        e.scrollLoader = function(e, t, a, n) {
            var r = this;
            r.delegate = t, r.container = e, r.boundary = n || !1, r.loading = !1, r.element = !1, r.limit = 0, i(r), o(r)
        }, e.scrollLoader.prototype.reAppend = function() {
            i(this), o(this)
        }, e.scrollLoader.prototype.contentLoaded = function() {
            this.loading = !1
        }, e.scrollLoader.prototype.removeLoader = function() {
            var e = this;
            e.element && e.element.parentNode && e.element.parentNode.removeChild(e.element), e.element = !1
        }, e.scrollLoader.prototype.newLoader = function() {
            this.element || i(this)
        }, e.scrollLoader.prototype.completedDataLoad = function(e) {
            var t = this;
            t.loading = !1, e ? t.removeLoader() : function(e) {
                e.element && e.container && (e.container.appendChild(e.element), r(e))
            }(t)
        }
    }(PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N),
    function(e, t) {
        e.liveFixtures = function(e) {
            let t = this;
            t.config = e || {}, t.compSeason = t.config.compSeason, t.comps = t.config.comps, t.gameweekNumbers = t.config.gameweekNumbers, t.statuses = "L", t.callback = t.config.callback, t.target = t.config.target, t.container = t.config.container, t.getFixtures()
        }, e.liveFixtures.prototype.getFixtures = function() {
            let a = this,
                n = {
                    comps: a.comps,
                    compSeasons: a.compSeason,
                    statuses: a.statuses,
                    gameweekNumbers: a.gameweekNumbers
                },
                i = {
                    url: e.createApiPath("fixtures.all", n),
                    method: "GET",
                    callback: a.liveFixtures,
                    forceCallback: !0,
                    target: this
                };
            t.data.manager.add(i)
        }, e.liveFixtures.prototype.liveFixtures = function(e) {
            let a = this;
            e && e.content.length && t.style.removeClass(a.container, "u-hide"), a.callback && a.callback.call(a.target, e.content)
        }, e.checkSessionStorage = function(e, t) {
            const a = sessionStorage.getItem(e);
            return !(a && (!a || a !== t))
        }
    }(PULSE.app.common, PULSE.core),
    function(e) {
        let t = function(e, t) {
                return e.map((function(e) {
                    return e.tvShows.map((function(e) {
                        return {
                            abbreviation: e.abbreviation,
                            channel: e.channel,
                            fixtureId: t,
                            streamingURLs: e.streamingURLs
                        }
                    }))
                })).filter((function(e) {
                    return e.filter((function(e) {
                        return e.streamingURLs && e.streamingURLs.length > 0
                    })).length > 0
                })).reduce((function(e, t) {
                    return e.concat(t)
                }), [])
            },
            a = function(e) {
                let t = this;
                if (0 === t.streamingURLs.length) t.streamingURLs = e;
                else {
                    let a = e.filter((function(e) {
                        let a = e.fixtureId,
                            o = n.call(t, a);
                        return 0 === o.length || !0 !== i.call(t, e.streamingURLs, o)
                    }));
                    t.streamingURLs = t.streamingURLs.concat(a)
                }
            },
            n = function(e) {
                return this.streamingURLs.filter((function(t) {
                    return t.fixtureId === e
                })).reduce((function(e, t) {
                    return (e.streamingURLs || []).concat(t.streamingURLs)
                }), [])
            },
            i = function(e, t) {
                return e.filter((function(e) {
                    return t.indexOf(e) > -1
                })).length > 0
            };
        e.liveStreaming = function(e) {
            this.element = e, this.streamingURLs = []
        }, e.liveStreaming.prototype.saveStreamingURLs = function(e, n) {
            let i = this;
            i.countryCode !== n && (i.countryCode = n, i.streamingURLs = []);
            for (let n = 0; n < e.length; n++) {
                let o = e[n].fixture.id,
                    r = e[n].broadcasters,
                    l = t(r, o);
                a.call(i, l)
            }
        };
        e.liveStreaming.prototype.getFixturesStreamingURLs = function(t, a) {
            return a ? this.streamingURLs.filter((function(n) {
                return n.fixtureId === t && function(t) {
                    let a = moment().locale(e.language),
                        n = moment(t).locale(e.language),
                        i = moment(n).subtract(2, "hours"),
                        o = moment(n).add(4, "hours");
                    return moment(a).isBetween(i, o)
                }(a)
            })) : []
        }, e.liveStreaming.prototype.getLiveStreamData = function(e, t) {
            let a = e.tvShows[0].streamingURLs;
            0 !== this.streamingURLs.length && t || (a = []);
            let n = a && a.length > 0;
            return {
                broadcasterHasLiveStream: n,
                liveStreamURL: n ? a[0] : null
            }
        }
    }(PULSE.app),
    function(e) {
        e.local = {};
        var t = document.querySelectorAll('[data-widget="local-club"]');
        t = Array.prototype.map.call(t, (function(t) {
            e.local.clubId = t.getAttribute("data-club-id")
        }))
    }(PULSE.app),
    function(e, t, a, n) {
        let i = function(e, t) {
            if (e && e.length > 0)
                for (let a = 0; a < e.length; a++)
                    if (e[a].fixture && e[a].fixture.id && e[a].fixture.id == t) return e[a]
        };
        e.getBroadcasters = function(e, t, a) {
            let n = this;
            n.element = e, n.config = t || {}, n.multipleBroadcastersModals = [], n.thisCountry = n.element.getAttribute("data-location") || "";
            let i = t.containerClass ? t.containerClass : "mcNavBroadcasterContainer";
            n.template = t.template ? t.template : "commonmatchbroadcaster", n.matchBroadcasterContainer = n.element.getElementsByClassName(i);
            let o = [],
                r = 1;
            if (a && a.hideBroadcasters) n.setListeners();
            else {
                for (let e = 0; e < n.matchBroadcasterContainer.length; e++) {
                    let t = n.matchBroadcasterContainer[e].getAttribute("data-id");
                    t && -1 === o.indexOf(t) && o.push(t), n.matchBroadcasterContainer[e].getAttribute("data-comp") && (r = n.matchBroadcasterContainer[e].getAttribute("data-comp"))
                }
                n.urlConfig = function(e, t, a) {
                    return (a = a || {}).pageSize || (a.pageSize = 100), a.fixtureIds || (a.fixtureIds = e), a.comps || (a.comps = t), a
                }(o, r, a), n.urlConfig.fixtureIds.length > 0 && n.initBroadcastData(n.urlConfig), n.setListeners()
            }
        },  e.getBroadcasters.prototype.saveBroadcastModals = function(e) {
            let a = this,
                n = e.length;
            for (let i = 0; i < n; i++) {
                let n = e[i],
                    o = n.fixture.id;
                if (n.broadcasters.length > 2) {
                    let e = a.liveStreaming.getFixturesStreamingURLs(o, n.fixture.kickoff.millis),
                        i = new t.multipleBroadcastersModal(n.broadcasters, e, o);
                    a.multipleBroadcastersModals.push(i)
                }
            }
        }, e.getBroadcasters.prototype.initBroadcastModals = function() {
            let e = this;
            for (let t = 0; t < e.multipleBroadcastersModals.length; t++) {
                let a = e.multipleBroadcastersModals[t];
                a.init(), a.update()
            }
        }, e.getBroadcasters.prototype.setListeners = function() {
            let t = new e.fixtureListener;
            this.element.addEventListener("click", t.redirectToMatchCenter), this.element.addEventListener("keypress", t.redirectToMatchCenter)
        }
    }(PULSE.app.common, PULSE.app, PULSE.core, PULSE.I18N),
    function(e, t, a, n) {
        let i = function(e) {
                e.stopPropagation(), e.preventDefault();
                let t = e.type,
                    n = e.keyCode || e.charCode;
                "keypress" === t && 13 !== n || (this.update(), a.style.addClass(this.broadcastModal[0], "open"))
            },
            o = function(e) {
                let t = e.type,
                    n = e.keyCode || e.charCode;
                ("keypress" !== t && "keyup" !== t || 27 === n) && r.call(this) && a.style.removeClass(this.broadcastModal[0], "open")
            },
            r = function() {
                return this.broadcastModal[0].className.indexOf("open") > -1
            };
        e.multipleBroadcastersModal = function(e, t, a) {
            let n = this;
            n.liveStreams = t || [], n.broadcastData = e, n.broadcastModal = document.getElementsByClassName("plBroadcastModal"), n.broadcastModalClose = document.getElementsByClassName("broadcastModalCloseButton"), n.jsButtonClass = "js-multipleBroadcasters", void 0 !== a && (n.jsButtonClass += "-" + a)
        }, e.multipleBroadcastersModal.prototype.init = function() {
            let e = this;
            e.modalOpener = document.getElementsByClassName(e.jsButtonClass), 0 !== e.broadcastModal.length && 0 !== e.broadcastModalClose.length && 0 !== e.modalOpener.length && (e.broadcastModalClose[0].addEventListener("click", o.bind(e)), e.broadcastModalClose[0].addEventListener("keypress", o.bind(e)), e.broadcastModal[0].addEventListener("keyup", o.bind(e)), Array.prototype.map.call(e.modalOpener, (function(t) {
                t.addEventListener("click", i.bind(e)), t.addEventListener("keypress", i.bind(e))
            })), document.body.insertBefore(e.broadcastModal[0], document.body.firstChild))
        }, e.multipleBroadcastersModal.prototype.getLiveStreamData = function(e) {
            let a = e.tvShows[0].streamingURLs;
            0 === this.liveStreams.length && (a = []);
            let n = a && a.length > 0;
            return {
                hasLiveStream: n,
                liveStreamLabel: t.lookup("label.livestream"),
                liveStreamURL: n ? a[0] : null
            }
        }, e.multipleBroadcastersModal.prototype.updateModel = function() {
            let e = this;
            return e.broadcastData.map((function(t) {
                let a = t.name.split("-");
                return a = a.length > 1 ? a[1].trim() : a[0].trim(), t.name = a, t.liveStreaming = e.getLiveStreamData(t), t.logoSrc = n.getBroadcasterLogo(t.abbreviation, "global"), t.logoSrcRetina = n.getBroadcasterLogo(t.abbreviation, "global", !0), t
            }))
        }, e.multipleBroadcastersModal.prototype.update = function() {
            let a = this,
                n = t.lookup("label.visitsite"),
                i = a.broadcastModal[0].getElementsByClassName("allBroadcastersModalContainer");
            if (0 === i.length || !a.broadcastData || 0 === a.broadcastData.length) return;
            let o = a.updateModel();
            i[0].innerHTML = Mustache.render(e.templates.matchmodalbroadcasters, {
                broadcasters: o,
                visitSiteLabel: n,
                broadcastersLabel: t.lookup("label.broadcaster"),
                moreInforLabel: t.lookup("label.more-info"),
                liveStreamLabel: t.lookup("label.live-stream")
            }), new e.broadcasterLogo(i[0], !0)
        }
    }(PULSE.app, PULSE.I18N, PULSE.core, PULSE.app.common),
    function(e, t, a, n, i) {
        t.pollMatches = function(e, t, a) {
            var n = this;
            n.element = e, n.config = a, n.matchClass = n.config && n.config.matchClass ? n.config.matchClass : "matchNavMatchContainer", n.requestConfig = t, n.matchNavMatchContainer = n.element.getElementsByClassName(n.matchClass), e && n.requestConfig && n.initData()
        }, t.pollMatches.prototype.initData = function() {
            var a = {
                url: t.createApiPath("fixtures.all", this.requestConfig),
                method: "GET",
                callback: this.renderMatches,
                target: this,
                interval: e.pollingCacheRate
            };
            this.startData(a)
        }, t.pollMatches.prototype.renderMatches = function(e) {
            var t = this;
            t.hasLiveMatch = !1, e && e.content && Array.prototype.map.call(t.matchNavMatchContainer, (function(a) {
                var n = a.getAttribute("data-id"),
                    i = function(e, t) {
                        if (e && e.length > 0)
                            for (var a = 0; a < e.length; a++)
                                if (e[a].id == t) return e[a]
                    }(e.content, n);
                i && "U" != i.status ? t.renderMatch(a, i) : t.hasLiveMatch = !0
            })), t.hasLiveMatch || t.stopFixtureFeed()
        }, t.pollMatches.prototype.renderMatch = function(e, a) {
            var o = this;
            if (a.status && "U" != a.status) {
                var r = e.getElementsByClassName("matchMinuteContainer"),
                    l = e.getElementsByClassName("matchScoreContainer");
                if (r && r.length > 0 && l && l.length > 0) {
                    var s = [null != a.teams[0].score ? a.teams[0].score : "", null != a.teams[1].score ? a.teams[1].score : ""];
                    if ("C" === a.status) e.className = o.matchClass + " matchAbridged fullTime", r[0].innerHTML = i.lookup("label.match.fulltime.short");
                    else if ("A" === a.status) {
                        e.className = o.matchClass + " matchAbridged";
                        var c = i.lookup("label.match.abandoned.short");
                        r[0].innerHTML = "", s = [c, c]
                    } else {
                        o.hasLiveMatch = !0, e.className = o.matchClass + " matchAbridged live";
                        var d = "";
                        "H" === a.phase ? d = i.lookup("label.match.halftime.short") : a.clock && (d = t.getEventTime(a)), r[0].innerHTML = d
                    }
                    r[0].style.display = "";
                    var u = {
                        scores: s
                    };
                    l[0].innerHTML = Mustache.render(n.matchnavscore, u)
                }
            }
        }, t.pollMatches.prototype.stopFixtureFeed = function() {
            this.dm.stop()
        }, t.pollMatches.prototype.startData = function(e) {
            this.dm = a.data.manager.add(e)
        }
    }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N),
    function(e, t, a, n) {
        a.QuizList = function(e, a) {
            let n = this;
            n.container = e, n.quizListContainer = n.container.querySelector(".js-quiz-list-container"), n.showFeatured = "true" === n.container.getAttribute("data-show-featured"), n.items = n.container.dataset.items, n.tags = n.container.dataset.tags, n.template = a, n.loader = n.container.querySelector(".js-loader"), n.isFullPageQuizList = t.style.hasClass(n.container, "quiz-full-list"), n.isFullPageQuizList && (n.quizId = parseInt(n.container.getAttribute("data-quiz-id"))), n.getQuizList()
        }, a.QuizList.prototype.getQuizList = function() {
            let a = this,
                n = {
                    url: e.environment.api + "/quiz/premierleague/quizzes?language=" + e.language + "&pageSize=" + a.items + "&tagNames=" + a.tags + "&orderProperty=createdDate&orderDirection=desc",
                    callback: a.renderQuizzes,
                    target: a
                };
            t.data.manager.add(n)
        }, a.QuizList.prototype.renderQuizzes = function(t) {
            let i, o = this,
                r = {},
                l = "";
            switch (o.items) {
                case "2":
                    i = "536", l = "357";
                    break;
                case "3":
                    i = "355", l = "236";
                    break;
                default:
                    i = "264", l = "176"
            }
            if (t.pagedResult && t.pagedResult.content && t.pagedResult.content.length) {
                r.list = [], t.pagedResult.content.forEach((function(e, t) {
                    o.isFullPageQuizList && (r.list.length >= 8 || e.id === o.quizId) || r.list.push({
                        featured: !(0 !== t || !o.showFeatured),
                        status: "PUBLISHED" === e.status ? e.status : "",
                        id: e.id,
                        title: e.title,
                        description: e.subtitle ? e.subtitle : "",
                        url: a.generateContentUrl("quizzes", e.id, e.title.replace(new RegExp(" ", "g"), "-")),
                        thumbnailUrl: e.leadMedia ? a.getImageUrl(e.leadMedia, "260", "200") : "",
                        thumbnailUrlFull: e.leadMedia ? a.getImageUrl(e.leadMedia, i, l) : "",
                        featuredThumbnailUrl: e.leadMedia ? a.getImageUrl(e.leadMedia, "520", "350") : "",
                        resourceVersion: window.RESOURCE_VERSION,
                        generalTag: n.lookup("label.quiz.tagGeneral")
                    })
                })), o.quizListContainer.innerHTML = Mustache.render(e.templates[o.template], r), o.hideLoader()
            }
        }, a.QuizList.prototype.hideLoader = function() {
            const e = this;
            e.loader && t.style.addClass(e.loader, "u-hide")
        }
    }(PULSE.app, PULSE.core, PULSE.app.common, PULSE.I18N),
    function(e, t, a) {
        let n = function(e) {
                e.element = t.dom.appendDomString(e.container, '<div class="js-loader" style="min-height:10px; width:100%;"></div>'), e.loadingIndicator = t.dom.appendDomString(e.element, '<section class="spinner"><span class="spinner__element rotate"></span></section>')
            },
            i = function(e) {
                let t = this;
                if (!t.loading && t.element) {
                    let e = t.element.getBoundingClientRect().top;
                    window.innerHeight - e >= t.limit && 0 !== t.element.offsetHeight && (t.show(), t.delegate && (t.loading = !0, t.delegate.didRequestLoad()))
                }
            },
            o = function(e) {
                if (e.delegate.config && e.delegate.config.scrollBoundary) {
                    const t = document.querySelector(e.delegate.config.scrollBoundary);
                    t && t.addEventListener("scroll", i.bind(e))
                } else document.addEventListener("scroll", i.bind(e))
            },
            r = function(e) {
                if (e.delegate.config && e.delegate.config.scrollBoundary) {
                    const t = document.querySelector(e.delegate.config.scrollBoundary);
                    t && t.removeEventListener("scroll", i.bind(e))
                } else document.removeEventListener("scroll", i.bind(e))
            };
        e.ScrollLoader = function(e, t, a) {
            let i = this;
            i.delegate = t, i.container = e, i.loading = !1, i.element = !1, i.limit = 0, n(i), o(i)
        }, e.ScrollLoader.prototype.enable = function() {
            this.loading = !1, o(this)
        }, e.ScrollLoader.prototype.disable = function() {
            this.loading = !0, r(this)
        }, e.ScrollLoader.prototype.reset = function() {
            let e = this;
            e.loading = !1, e.removeLoader(), n(e), r(e), o(e)
        }, e.ScrollLoader.prototype.contentLoaded = function() {
            this.loading = !1, this.hide()
        }, e.ScrollLoader.prototype.removeLoader = function() {
            let e = this;
            e.element && e.element.parentNode && e.element.parentNode.removeChild(e.element), e.element = !1
        }, e.ScrollLoader.prototype.show = function() {
            this.element.style.display = "block", this.loadingIndicator.style.display = "block"
        }, e.ScrollLoader.prototype.hide = function() {
            this.loadingIndicator.style.display = "none"
        }, e.ScrollLoader.prototype.newLoader = function() {
            let e = this;
            e.element || n(e)
        }, e.ScrollLoader.prototype.completedDataLoad = function() {
            this.loading = !1, this.removeLoader()
        }
    }(PULSE.app.common, PULSE.core, PULSE.app.templates),
    function(e, t, a, n) {
        const i = {
                All: 0,
                News: 1,
                Photos: 2,
                Videos: 3,
                Clubs: 4,
                Players: 5,
                Managers: 6
            },
            o = function(e) {
                const t = this;
                let i = e || "",
                    o = t.config.placeholder ? t.config.placeholder : "";
                t.element.innerHTML = Mustache.render(a.search, {
                    term: i,
                    placeholder: o,
                    accessibleSearchPhrase: n.lookup("label.submitsearch"),
                    resourceVersion: window.RESOURCE_VERSION
                }), t.searchTextContainer = t.element.getElementsByClassName("searchTextContainer")[0], t.searchIconContainer = t.element.getElementsByClassName("searchIconContainer")[0], t.searchKeyPressContainer = [t.searchTextContainer, t.searchIconContainer], t.emptyInputBtn = t.element.querySelector(".js-empty-input-btn")
            };
        let r = function() {
                const e = this;
                for (let t = 0; t < e.searchKeyPressContainer.length; t++) e.searchKeyPressContainer[t].addEventListener("keypress", (function(t) {
                    13 === (t.keyCode || t.which) && e.doSearch()
                }));
                e.searchTextContainer.addEventListener("keyup", (() => {
                    e.searchTextContainer.value.length > 0 ? e.element.classList.add("is-active") : e.element.classList.remove("is-active")
                })), e.searchIconContainer.addEventListener("click", (function(t) {
                    e.doSearch()
                })), e.emptyInputBtn.addEventListener("click", (() => {
                    e.searchTextContainer.value = "", e.element.classList.remove("is-active")
                }))
            },
            l = function(e) {
                let t = {};
                if (e.object_id && e.object_id.length > 0 && (t.id = parseInt(e.object_id[0])), e.type && e.type.length > 0) switch (e.object_id && e.object_id.length > 0 && (t.id = e.object_id[0]), e.type && e.type.length > 0 && (t.type = e.type[0].toLowerCase()), e.type[0]) {
                    case "PLAYER":
                    case "TOFFICIAL":
                        e.title && e.title.length > 0 && (t.name = {
                            display: e.title[0]
                        }), e.object_id && e.object_id.length > 0 && (t.personId = e.object_id[0]);
                        break;
                    case "TEAM":
                        e.title && e.title.length > 0 && (t.name = e.title[0]);
                        break;
                    case "VIDEO":
                        e.title && e.title.length > 0 && (t.title = e.title[0]), e.image_url && e.image_url.length > 0 && (t.thumbnailUrl = e.image_url[0]), e.duration && e.duration.length > 0 && (t.duration = e.duration[0]), e.description && e.description.length > 0 && (t.description = e.description[0]), e.timestamp && e.timestamp.length > 0 && (t.date = e.timestamp[0]), e.tags && e.tags.length > 0 && (t.tags = e.tags);
                        break;
                    case "PHOTO":
                        e.title && e.title.length > 0 && (t.title = e.title[0]), e.timestamp && e.timestamp.length > 0 && (t.date = e.timestamp[0]), e.image_url && e.image_url.length > 0 && (t.variants = function(e) {
                            let t = [];
                            if (e && e.length > 0)
                                for (let a = 0; a < e.length; a++) {
                                    let n = e[a].split(";");
                                    if (3 === n.length) {
                                        let e = {
                                            width: parseInt(n[0]),
                                            height: parseInt(n[1]),
                                            url: n[2]
                                        };
                                        t.push(e)
                                    }
                                }
                            return t
                        }(e.image_url)), e.tags && e.tags.length > 0 && (t.tags = e.tags);
                        break;
                    case "TEXT":
                        e.title && e.title.length > 0 && (t.title = e.title[0]), e.timestamp && e.timestamp.length > 0 && (t.date = e.timestamp[0]), e.description && e.description.length > 0 && (t.description = e.description[0]), e.body && e.body.length > 0 && (t.body = e.body[0]), e.tags && e.tags.length > 0 && (t.tags = e.tags)
                }
                return t
            };
        e.search = function(e, t) {
            let a = this;
            a.config = t || {}, a.element = e, o.call(a, ""), r.call(a)
        }, e.search.prototype.checkParam = function() {
            let e = this,
                a = t.url.getParameterByName("term"),
                n = t.url.getParameterByName("tab"),
                o = t.url.getParameterByName("playerId");
            a && (e.searchTextContainer.value = a, e.element.classList.add("is-active"), n ? (e.doSearch(a, !0), e.config.target.tabs.showTabByIndex(i[n])) : e.doSearch(a, !0, o))
        }, e.search.prototype.doSearch = function(a, n, i) {
            let o = this;
            i || e.urlHelpers.removeURLParam("playerId");
            let r = a || o.searchTextContainer.value;
            o.config.callback && o.config.target && o.config.callback.call(o.config.target, r, 0, i), o.config.updateUrl && !n && (o.url = t.url.updateUrlStringParam(window.location.href, "term", r), history.pushState({}, "", o.url))
        }, e.search.prototype.getSearchTerm = function() {
            return this.searchTextContainer.value
        }, e.search.prototype.getSearchParams = function(e) {
            let t = {};
            return e && (void 0 !== e.pageSize && void 0 !== e.page && (t.size = e.pageSize, t.start = e.pageSize * e.page), e.fullObjectResponse && (t.fullObjectResponse = !0), e.sort && (t.sort = e.sort), e.tags && (t.tags = e.tags)), t
        }, e.search.prototype.hasTerm = function() {
            let e = this.getSearchTerm();
            return void 0 !== e && "" !== e
        }, e.search.prototype.evaluateHits = function(t) {
            let a = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                n = [];
            return t && t.hit && t.hit.length > 0 && t.hit.forEach((function(t) {
                if (t.fields) {
                    let i = !1;
                    t.fields.tags && (i = t.fields.tags.includes("highlighted-content") || e.content.hasTag(t.fields, "highlighted-content")), a && !i ? n.push(l(t.fields)) : a || n.push(l(t.fields))
                } else if (t.response) {
                    "FOOTBALL_PERSON" === t.contentType && (t.response.type = "player");
                    let i = !1;
                    t.response.tags && (i = t.response.tags.includes("highlighted-content") || e.content.hasTag(t.response, "highlighted-content")), a && !i ? n.push(t.response) : a || n.push(t.response)
                }
            })), n
        }
    }(PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N),
    function(e, t) {
        e.slideShow = function(e) {
            var t = this;
            t.config = e, t.container = t.config.container, t.initSlider()
        }, e.slideShow.prototype.initSlider = function() {
            var e = this;
            e.slideContainer = e.config.scrollContainer, e.slideWidth = e.slideContainer.clientWidth, e.slideItems = e.config.sliderElements, e.slideNum = Math.ceil(e.slideItems.length / e.config.perPage), e.slidePos = 0, e.activeSlide = 0, e.nextBtn = e.config.nextButton, e.prevBtn = e.config.prevButton, e.pagerBtns = e.config.pagerElements, e.nextCallback = e.config.nextCallback, e.previousCallback = e.config.previousCallback, e.paginationCallback = e.config.paginationCallback, e.pagerItemsContainer = e.config.pagerItemsContainer, e.setListeners(), e.updateControls(), e.setActiveItems()
        }, e.slideShow.prototype.setListeners = function() {
            var e = this;
            e.nextBtn.addEventListener("click", (function() {
                e.scrollNext()
            })), e.prevBtn.addEventListener("click", (function() {
                e.scrollPrev()
            }));
            for (var a = 0; a < e.pagerBtns.length; a++) e.pagerBtns[a].addEventListener("click", e.slideTo.bind(e, a));
            t.event.windowResize.add({
                method: e.resetSlider.bind(e)
            })
        }, e.slideShow.prototype.scrollNext = function() {
            var e = this;
            e.activeSlide++, e.slidePos = e.slideWidth * e.activeSlide, e.slideContainer.style.left = "-" + e.slidePos + "px", e.updateControls(), e.setActiveItems(), e.nextCallback && e.nextCallback()
        }, e.slideShow.prototype.isPaginating = function() {
            return !!this.pagerItemsContainer && this.pagerItemsContainer.offsetParent
        }, e.slideShow.prototype.scrollPrev = function() {
            var e = this;
            e.activeSlide--, e.slidePos = e.slideWidth * e.activeSlide, e.slideContainer.style.left = "-" + e.slidePos + "px", e.updateControls(), e.setActiveItems(), e.previousCallback && e.previousCallback()
        }, e.slideShow.prototype.slideTo = function(e) {
            var t = this;
            t.slidePos = t.slideWidth * e, t.slideContainer.style.left = "-" + t.slidePos + "px";
            var a = t.activeSlide < e;
            t.activeSlide = e, t.updateControls(), t.setActiveItems(), t.paginationCallback && t.paginationCallback(a)
        }, e.slideShow.prototype.updateControls = function() {
            var e = this;
            e.activeSlide >= e.slideNum - 1 ? t.style.addClass(e.nextBtn, "u-hide") : t.style.hasClass(e.nextBtn, "u-hide") && t.style.removeClass(e.nextBtn, "u-hide"), 0 === e.activeSlide ? t.style.addClass(e.prevBtn, "u-hide") : t.style.hasClass(e.prevBtn, "u-hide") && t.style.removeClass(e.prevBtn, "u-hide");
            for (var a = 0; a < e.pagerBtns.length; a++) a == e.activeSlide ? t.style.addClass(e.pagerBtns[a], e.config.pagerActiveClass) : t.style.removeClass(e.pagerBtns[a], e.config.pagerActiveClass)
        }, e.slideShow.prototype.getActiveSlide = function() {
            return this.activeSlide
        }, e.slideShow.prototype.setActiveItems = function() {
            for (var e = this, a = 0; a < e.slideItems.length; a++) t.style.removeClass(e.slideItems[a], "item-active");
            var n = e.activeSlide * e.config.perPage;
            for (a = 0; a < e.config.perPage && e.slideItems[n]; a++) t.style.addClass(e.slideItems[n], "item-active"), n++
        }, e.slideShow.prototype.resetSlider = function() {
            var e = this;
            e.slideWidth = e.slideContainer.clientWidth, e.slideTo(e.activeSlide)
        }
    }(PULSE.app.common, PULSE.core),
    function(e, t, a) {
        var n = function(e) {};
        t.slider = function(e) {
            var t, i = this;
            i.config = function(e) {
                    if (e.wrap) {
                        if (e.controls && e.controls.next && e.controls.previous) return e.slideList || (e.slideList = e.wrap.querySelector(".js-slide-list")), e.slides || (e.slides = e.wrap.querySelectorAll(".js-slide")), e.slideRate || (e.slideRate = 50), e.thumbSlideRate || (e.thumbSlideRate = 10), e.interval || (e.interval = 5e3), e.auto || (e.auto = !1), e.startIndex || (e.startIndex = 0), e.hideClass || (e.hideClass = "is-hidden"), e.thumbsWrap && !e.thumbsType && (e.thumbsType = "image"), e.thumbClass || (e.thumbClass = "thumbnail"), e;
                        console.warn("You must provide a both next and previous control elements in your slider config")
                    } else console.warn("You must provide a wrap element in your slider config")
                }(e), a.style.addClass(i.config.slideList, i.config.hideClass), i.config.currentSlide = i.config.slides[i.config.startIndex], i.config.firstSlide = i.config.slides[0], i.config.lastSlide = i.config.slides[i.config.slides.length - 1], i.isViewportFullsize = !1,
                function(e) {
                    if (e.config.controls.previous.addEventListener("click", (function(t) {
                            t.preventDefault(), e.slidePrev()
                        })), e.config.controls.next.addEventListener("click", (function(t) {
                            t.preventDefault(), e.slideNext()
                        })), e.config.controls.expand)
                        if (e.config.controls.expand.length > 1)
                            for (var t = 0; t < e.config.controls.expand.length; t++) e.config.controls.expand[t].addEventListener("click", (function(t) {
                                t.preventDefault(), e.config.currentSlide = t.target.parentNode.parentNode, e.toggleExpand()
                            }));
                        else e.config.controls.expand.addEventListener("click", (function(t) {
                            t.preventDefault(), e.toggleExpand()
                        }));
                    e.config.controls.autoStart && e.config.controls.autoStop && (e.config.controls.autoStart.addEventListener("click", (function(t) {
                        t.preventDefault(), e.startAuto()
                    })), e.config.controls.autoStop.addEventListener("click", (function(t) {
                        t.preventDefault(), e.stopAuto()
                    })))
                }(i), t = i, window.addEventListener("keydown", (function(e) {
                    "37" == e.keyCode && t.slidePrev(), "39" == e.keyCode && t.slideNext()
                }), !1),
                function(e) {
                    var t = !1;
                    e.config.viewport || (t = !0, e.config.viewport = document.createElement("div"), a.style.addClass(e.config.viewport, "slider-viewport")), e.config.viewportList = document.createElement("ul"), a.style.addClass(e.config.viewportList, "slider-viewport__list"), e.config.viewport.appendChild(e.config.viewportList), t && e.config.wrap.appendChild(e.config.viewport), n(e)
                }(i),
                function(e) {
                    var t;
                    window.addEventListener("resize", (function() {
                        clearTimeout(t), t = setTimeout((function() {
                            e.updateViewport(e.config.currentSlide)
                        }), 200)
                    }))
                }(i), i.config.thumbsWrap && (function(e) {
                    e.config.thumbnails = Array.prototype.map.call(e.config.slides, (function(t, n) {
                        t.indexVal = n;
                        var i = document.createElement("li");
                        switch (a.style.addClass(i, e.config.thumbClass), e.config.thumbsType) {
                            case "image":
                                i.appendChild(t.querySelector("picture").cloneNode(!0));
                                break;
                            case "index":
                                i.innerHTML = n + 1
                        }
                        return i.addEventListener("click", (function() {
                            e.slideToIndex(n)
                        })), e.config.thumbsWrap.appendChild(i), i
                    }))
                }(i), i.config.thumbControls && function(e) {
                    e.config.thumbControls.left.addEventListener("click", (function(t) {
                        t.preventDefault(), e.slideThumbsLeft()
                    })), e.config.thumbControls.right.addEventListener("click", (function(t) {
                        t.preventDefault(), e.slideThumbsRight()
                    }))
                }(i)), i.updateViewport(i.config.currentSlide), i.config.auto && i.startAuto()
        }, t.slider.prototype.slidePrev = function() {
            var e = this,
                t = 0;
            var a = requestAnimationFrame((function n() {
                var i = e.config.viewport.scrollLeft - e.config.slideRate;
                i <= t ? (e.config.viewport.scrollLeft = t, cancelAnimationFrame(a), e.updateViewport(e.config.prevSlide)) : (e.config.viewport.scrollLeft = i, requestAnimationFrame(n))
            }))
        }, t.slider.prototype.slideNext = function() {
            var e = this,
                t = 2 * e.config.viewport.offsetWidth - 10;
            var a = requestAnimationFrame((function n() {
                var i = e.config.viewport.scrollLeft + e.config.slideRate;
                i >= t ? (e.config.viewport.scrollLeft = t, cancelAnimationFrame(a), e.updateViewport(e.config.nextSlide)) : (e.config.viewport.scrollLeft = i, requestAnimationFrame(n))
            }))
        }, t.slider.prototype.slideToIndex = function(e) {
            var t, a = this;
            a.config.currentSlide.indexVal !== e && (a.config.currentSlide.indexVal < e ? ((t = a.config.currentSlide).forceNext = a.config.slides[e], a.updateViewport(t, "next")) : ((t = a.config.currentSlide).forcePrev = a.config.slides[e], a.updateViewport(t, "prev")))
        }, t.slider.prototype.startAuto = function() {
            var e = this;
            if (e.autoPlaying) return "slider is already auto playing";
            e.autoPlaying = setInterval((function() {
                e.slideNext()
            }), e.config.interval), a.style.toggleClass(e.config.controls.autoStart, e.config.hideClass), a.style.toggleClass(e.config.controls.autoStop, e.config.hideClass)
        }, t.slider.prototype.stopAuto = function() {
            var e = this;
            if (!e.autoPlaying) return "slider is not auto playing";
            clearInterval(e.autoPlaying), e.autoPlaying = !1, a.style.toggleClass(e.config.controls.autoStart, e.config.hideClass), a.style.toggleClass(e.config.controls.autoStop, e.config.hideClass)
        }, t.slider.prototype.toggleExpand = function() {
            var e = this;
            e.isViewportFullsize = !e.isViewportFullsize, a.style.toggleClass(e.config.wrap, "expanded"), a.style.toggleClass(document.getElementsByTagName("body")[0], "u-body-no-scroll"), e.updateViewport(e.config.currentSlide)
        }, t.slider.prototype.updateViewport = function(e, t) {
            var n = this;
            n.config.currentSlide = e, e.forcePrev ? (n.config.prevSlide = e.forcePrev, e.forcePrev = !1) : (n.config.prevSlide = a.dom.getPreviousSiblings(n.config.currentSlide)[0], n.config.prevSlide || (n.config.prevSlide = n.config.lastSlide)), e.forceNext ? (n.config.nextSlide = e.forceNext, e.forceNext = !1) : (n.config.nextSlide = a.dom.getNextSiblings(n.config.currentSlide)[0], n.config.nextSlide || (n.config.nextSlide = n.config.firstSlide)), n.config.viewportList.innerHTML = "", n.config.viewportList.appendChild(n.config.prevSlide.cloneNode(!0)), n.config.viewportList.appendChild(n.config.currentSlide.cloneNode(!0)), n.config.viewportList.appendChild(n.config.nextSlide.cloneNode(!0)), n.config.viewport.scrollLeft = n.config.viewport.offsetWidth, "next" == t ? n.slideNext(!0) : "prev" == t && n.slidePrev(!0), n.config.thumbnails && n.setActiveThumb(n.config.currentSlide.indexVal)
        }, t.slider.prototype.setActiveThumb = function(e) {
            Array.prototype.forEach.call(this.config.thumbnails, (function(e) {
                a.style.removeClass(e, "is-active")
            })), a.style.addClass(this.config.thumbnails[e], "is-active")
        }, t.slider.prototype.slideThumbsRight = function(e) {
            var t, a, n = this,
                i = n.config.thumbsWrap.scrollLeft,
                o = (t = n.config.thumbnails[0].offsetWidth, a = parseInt(window.getComputedStyle(n.config.thumbnails[0]).getPropertyValue("margin-left")), t + parseInt(window.getComputedStyle(n.config.thumbnails[0]).getPropertyValue("margin-right")) + a),
                r = n.config.thumbnails.length * o - n.config.thumbsWrap.offsetWidth;
            if (n.config.thumbsWrap.scrollLeft < r) var l = requestAnimationFrame((function e() {
                var t = n.config.thumbsWrap.scrollLeft += n.config.thumbSlideRate;
                t > r ? (n.config.thumbsWrap.scrollLeft = r, cancelAnimationFrame(l)) : t >= i + o ? (n.config.thumbsWrap.scrollLeft = t, cancelAnimationFrame(l)) : (n.config.thumbsWrap.scrollLeft = t, requestAnimationFrame(e))
            }))
        }, t.slider.prototype.slideThumbsLeft = function(e) {
            var t = this,
                a = t.config.thumbsWrap.scrollLeft,
                n = t.config.thumbnails[0].offsetWidth,
                i = 0;
            if (t.config.thumbsWrap.scrollLeft > i) var o = requestAnimationFrame((function e() {
                var r = t.config.thumbsWrap.scrollLeft -= t.config.thumbSlideRate;
                r < i ? (t.config.thumbsWrap.scrollLeft = i, cancelAnimationFrame(o)) : r <= a - n ? (t.config.thumbsWrap.scrollLeft = r, cancelAnimationFrame(o)) : (t.config.thumbsWrap.scrollLeft = r, requestAnimationFrame(e))
            }))
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t, a) {
        let n = "twitter",
            i = "facebook",
            o = "messenger",
            r = "googleplus",
            l = {
                twitter: {
                    shareUrl: "http://www.twitter.com/intent/tweet?text="
                },
                facebook: {
                    shareUrl: "http://www.facebook.com/sharer/sharer.php?u="
                },
                googleplus: {
                    shareUrl: "http://plus.google.com/share?url="
                },
                whatsapp: {
                    shareUrl: "whatsapp://send?text="
                },
                messenger: {
                    shareUrl: "fb-messenger://send?link="
                },
                email: {
                    shareUrl: "mailto:?body="
                }
            },
            s = {
                width: "500",
                height: "500",
                menubar: 0,
                location: 1,
                resizable: 0,
                scrollbars: 0,
                status: 0,
                titlebar: 0,
                toolbar: 0
            },
            c = function(e) {
                this.name = e
            };
        c.prototype.buildShareUrl = function(e, t) {
            let s = this.name,
                c = e || window.location.href,
                d = c;
            return s === i || s === r || s === o || t && (d = t, d += s === n ? " " + a.lookup("label.via") + " @premierleague " + c : " " + c), l[s].shareUrl + encodeURIComponent(d)
        }, c.prototype.makeWindowConfigurationString = function(e) {
            let t = e || s,
                a = Object.keys(t),
                n = "";
            for (let e = 0; e < a.length; e++) n += a[e] + "=" + t[a[e]], e < a.length - 1 && (n += ",");
            return n
        }, c.prototype.sharePage = function(e, t, a) {
            let n = this.buildShareUrl(e, a),
                i = this.makeWindowConfigurationString(t);
            window.open(n, "_blank", i)
        }, e.socialHelpers = {
            twitter: new c(n),
            facebook: new c(i),
            google: new c(r),
            email: new c("email"),
            whatsapp: new c("whatsapp"),
            messenger: new c(o)
        }
    }(PULSE.app, PULSE.app.common, PULSE.I18N),
    function(e, t, a, n) {
        let i = function(e) {
                if (!e || 0 === e.data.length) return null;
                let t = e.data[0];
                return t.subattachments ? t.subattachments.data[0].media ? t.subattachments.data[0].media.image.src : "" : t.media ? t.media.image.src : ""
            },
            o = function(e) {
                if (e.from && e.from.picture) return e.from.picture.data.url
            };
        t.getFacebookModel = function(e) {
            let r, l, s = "https://www.facebook.com/" + e.from.id,
                c = (u = e.created_time, a.date.parseString(u)),
                d = t.getSinceString(c);
            var u;
            return "photo" === e.type && (l = e.picture), r = {
                timestamp: d,
                id: e.id,
                text: e.message ? e.message : e.description ? e.description : n.lookup("label.socialfeed.message.facebook"),
                link: e.permalink_url,
                photo: i(e.attachments),
                feedType: "facebook",
                user: {
                    id: e.from.id,
                    name: e.from.name,
                    link: s,
                    avatarUrl: o(e)
                }
            }, r
        }
    }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.I18N),
    function(e, t, a) {
        t.getInstagramModel = function(e) {
            var a, n = "https://www.instagram.com/" + e.user.username,
                i = (a = e.created_time, new Date(1e3 * parseInt(a))),
                o = t.getSinceString(i),
                r = "";
            return "image" === e.type && (r = e.images.low_resolution.url), {
                timestamp: o,
                id: e.id,
                text: e.caption.text,
                link: e.link,
                photo: r,
                feedType: "instagram",
                user: {
                    id: e.user.id,
                    name: e.user.full_name,
                    account: e.user.username,
                    link: n,
                    avatarUrl: e.user.profile_picture
                }
            }
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t, a) {
        var n = function(e) {
                return "//twitter.com/" + e
            },
            i = function(e, t) {
                if (!t) return e = e.replace(/(https{0,1}:\/\/\S+)/g, '<a target="_blank" href="$1">$1</a>').replace(/@(\S+)/g, '<a target="_blank" href="//twitter.com/$1">@$1</a>').replace(/#(\S+)/g, '<a target="_blank" href="//twitter.com/#!/search?q=%23$1">#$1</a>');
                var a = [];
                if (t.urls)
                    for (var i = 0, o = t.urls.length; i < o; i++) {
                        var r = '<a href="' + (l = t.urls[i]).url + '" title="' + l.expanded_url + '" target="_blank">' + l.display_url + "</a>";
                        a.push({
                            html: r,
                            original: l.url,
                            start: l.indices[0],
                            end: l.indices[1]
                        })
                    }
                if (t.media)
                    for (i = 0, o = t.media.length; i < o; i++) {
                        r = '<a href="' + (l = t.media[i]).url + '" title="' + l.expanded_url + '" target="_blank">' + l.display_url + "</a>";
                        a.push({
                            html: r,
                            original: l.url,
                            start: l.indices[0],
                            end: l.indices[1]
                        })
                    }
                if (t.user_mentions)
                    for (i = 0, o = t.user_mentions.length; i < o; i++) {
                        var l = t.user_mentions[i];
                        r = '<a href="' + n(l.screen_name) + '" target="_blank">&#64;' + l.screen_name + "</a>";
                        a.push({
                            html: r,
                            original: "@" + l.screen_name,
                            start: l.indices[0],
                            end: l.indices[1]
                        })
                    }
                if (t.hashtags)
                    for (i = 0, o = t.hashtags.length; i < o; i++) {
                        l = t.hashtags[i], r = '<a href="' + ("//twitter.com/search?q=%23" + l.text) + '" target="_blank">&#35;' + l.text + "</a>";
                        a.push({
                            html: r,
                            original: "#" + l.text,
                            start: l.indices[0],
                            end: l.indices[1]
                        })
                    }
                a.sort((function(e, t) {
                    return e.start - t.start
                }));
                for (i = 0, o = a.length; i < o; i++) {
                    l = a[i];
                    var s = e.toLowerCase(),
                        c = l.original.toLowerCase();
                    l.start = s.search(c), l.end = l.start + l.original.length
                }
                var d = "",
                    u = 0;
                for (i = 0, o = a.length; i < o; i++) {
                    var p = (l = a[i]).start - u;
                    d += e.substr(u, p), d += l.html, u = l.end
                }
                return d += e.substr(u)
            };
        t.getTweetModel = function(e) {
            var o, r = n(e.actor.preferredUsername),
                l = (o = e.postedTime, a.date.parseString(o)),
                s = t.getSinceString(l),
                c = "",
                d = [];
            if (e.entities && e.entities.media)
                for (var u = 0, p = e.entities.media.length; u < p; u++) "photo" === e.entities.media[u].type && (c = e.entities.media[u].media_url);
            if (e.twitter_entities && e.twitter_entities.media)
                for (u = 0, p = e.twitter_entities.media.length; u < p; u++) {
                    var m = e.twitter_entities.media[u];
                    d.push(m.media_url), c = m.media_url
                }
            if (e.long_object && e.long_object.twitter_entities && e.long_object.twitter_entities.media) {
                var g = e.long_object.twitter_entities.media;
                for (u = 0, p = g.length; u < p; u++) "photo" === g[u].type && (c = g[u].media_url)
            }
            return {
                timestamp: s,
                id: e.id,
                text: i(e.body),
                link: e.link,
                photo: c,
                extended_media: d,
                user: {
                    id: e.actor.id,
                    name: e.actor.displayName,
                    account: e.actor.preferredUsername,
                    link: r,
                    description: e.actor.summary,
                    avatarUrl: e.actor.image
                },
                feedType: "twitter",
                favorites: e.favoritesCount,
                retweets: e.retweetCount
            }
        }
    }(PULSE.app, PULSE.app.common, PULSE.core),
    function(e, t, a, n) {
        n.pageShare = function(n, i) {
            let o = this;
            if (o.element = n, o.render = o.element.getAttribute("data-render"), o.bodyContent = o.element.getAttribute("data-body"), o.defaultOpen = o.element.getAttribute("data-open"), o.url = o.element.getAttribute("data-link-to") ? window.location.hostname + o.element.getAttribute("data-link-to") : i, o.render && e.templates[o.render]) {
                let t = {
                    share: a.lookup("label.share"),
                    shareWhatsapp: a.lookup("action.share.whatsApp"),
                    shareTwitter: a.lookup("action.share.twitter"),
                    shareFacebook: a.lookup("action.share.facebook"),
                    shareGoogle: a.lookup("action.share.googleplus"),
                    shareCopy: a.lookup("action.share.copy"),
                    shareEmail: a.lookup("action.share.email")
                };
                o.element.innerHTML = Mustache.render(e.templates[o.render], t)
            }
            o.shareButton = o.element.getElementsByClassName("socialShareBtn")[0], o.shareButton && (o.hoverElem = o.shareButton.parentElement), o.defaultOpen && t.style.toggleClass(o.hoverElem, "open"), o.setListeners()
        }, n.pageShare.prototype.copyUrl = function(e, t, a) {
            let n = document.createElement("input"),
                i = document.createElement("span"),
                o = e.querySelector("." + t);
            document.body.appendChild(n), n.value = a, n.select(), document.execCommand("copy"), document.body.removeChild(n), o.appendChild(i), i.className = "option__actionlabel", i.innerHTML = "Link copied", setTimeout((function() {
                o.removeChild(i)
            }), 1e3)
        }, n.pageShare.prototype.getSocialDataset = function(e) {
            let t = e;
            if (this.element.getAttribute("data-social-service")) return this.element.dataset;
            do {
                if (t.getAttribute("data-social-service")) return t.dataset;
                t = t.parentElement
            } while (t !== this.element);
            return !1
        }, n.pageShare.prototype.setUrl = function(e) {
            this.url = e
        }, n.pageShare.prototype.setListeners = function() {
            let a = this;
            a.shareButton && ["keypress", "click"].forEach((function(e) {
                a.shareButton.addEventListener(e, (function(e) {
                    13 !== e.which && "click" !== e.type || (e.preventDefault(), t.style.toggleClass(a.hoverElem, "open"))
                }))
            })), this.element.addEventListener("click", (function(t) {
                let n = a.getSocialDataset(t.target);
                n && n.socialService && ("copy" === n.socialService ? a.copyUrl(this, n.socialService, a.url) : e.socialHelpers[n.socialService].sharePage(a.url, !1, a.bodyContent))
            }))
        }
    }(PULSE.app, PULSE.core, PULSE.I18N, PULSE.app.common),
    function(e, t, a, n) {
        n.promoShare = function(t, n) {
            var i = this;
            if (i.element = t, i.render = i.element.getAttribute("data-render"), i.bodyContent = i.element.getAttribute("data-body"), i.defaultOpen = i.element.getAttribute("data-open"), i.url = i.element.getAttribute("data-link-to") ? window.location.hostname + i.element.getAttribute("data-link-to") : n, i.render && e.templates[i.render]) {
                var o = {
                    share: a.lookup("label.share"),
                    shareWhatsapp: a.lookup("action.share.whatsApp"),
                    shareTwitter: a.lookup("action.share.twitter"),
                    shareFacebook: a.lookup("action.share.facebook"),
                    shareGoogle: a.lookup("action.share.googleplus"),
                    shareEmail: a.lookup("action.share.email")
                };
                i.element.innerHTML = Mustache.render(e.templates[i.render], o)
            }
            i.shareButton = i.element.getElementsByClassName("js-promo-share"), i.setListeners()
        }, n.promoShare.prototype.getSocialDataset = function(e) {
            var t = e;
            if (this.element.getAttribute("data-social-service")) return this.element.dataset;
            do {
                if (t.getAttribute("data-social-service")) return t.dataset;
                t = t.parentElement
            } while (t !== this.element);
            return !1
        }, n.promoShare.prototype.setUrl = function(e) {
            this.url = e
        }, n.promoShare.prototype.setListeners = function() {
            var a = this;
            a.shareButton && ["keypress", "click"].forEach((function(e) {
                a.shareButton.addEventListener(e, (function(e) {
                    13 !== e.which && "click" !== e.type || (e.preventDefault(), t.style.toggleClass(a.hoverElem, "open"))
                }))
            })), this.element.addEventListener("click", (function(t) {
                var n = a.getSocialDataset(t.target);
                n && n.socialService && e.socialHelpers[n.socialService].sharePage(a.url, !1, a.bodyContent)
            }))
        }
    }(PULSE.app, PULSE.core, PULSE.I18N, PULSE.app.common),
    function(e) {
        e.tabAwareWidgets = [], e.tabAwareWidget = function(t) {
            var a = this;
            a.widgetInit = t, a.tabbed = !1, a.initialised = !1, e.tabAwareWidgets.push(a);
            var n = "true" === a.widgetInit.widgetElement.getAttribute("data-tab-aware-default"),
                i = !(a.widgetInit.widgetElement.parentElement && a.widgetInit.widgetElement.parentElement.classList.contains("tabbedContent"));
            (n || i) && a.activate()
        }, e.tabAwareWidget.prototype.match = function(e) {
            return this.widgetInit.widgetElement === e
        }, e.tabAwareWidget.prototype.activate = function() {
            var e = this;
            e.initialised || (e.initialised = !0, e.createWidget())
        }, e.tabAwareWidget.prototype.createWidget = function() {
            var e = this;
            new e.widgetInit.widgetConstructor(e.widgetInit.widgetElement, e.widgetInit.widgetConfig)
        }
    }(PULSE.app);
var Mustache = function(e) {
    let t = e.render,
        a = window.RESOURCE_VERSION;
    return e.render = function(e, n, i) {
        return n.externalLinkText = "External Link", n.resourceVersion = a, t(e, n, i)
    }, e
}(Mustache);
! function(e, t) {
    PULSE.app.common.brandBars = function(t) {
        var a = this;
        a.container = t, a.brandBarLeft = a.container.querySelector(".js-brand-bar-left"), a.brandBarRight = a.container.querySelector(".js-brand-bar-right"), e.style.addClass(a.brandBarLeft, "animate-in"), e.style.addClass(a.brandBarRight, "animate-in")
    }
}(PULSE.core),
function(e, t) {
    const a = "u-hide";
    e.UserData = new function() {
        let n = this;
        const i = function() {
                let a = t.localStorage.getStorage(e.cookiePrefix + "profile", !0);
                if (a) {
                    '"' === a[0] && '"' === a[a.length - 1] && (a = a.substr(1, a.length - 2));
                    let e = t.localStorage.getStorage("userData");
                    e && (n = JSON.parse(e)), n.plProfile = JSON.parse(window.atob(a)), n.loggedin = !0
                } else n.loggedin = !1, n.plProfile = null, n.club = null, l()
            },
            o = function() {
                if (n.loggedin && (!n.club || !n.club.opta || n.club.opta !== n.plProfile.u.fc)) {
                    n.club = {
                        opta: n.plProfile.u.fc
                    };
                    let a = {
                        url: e.environment.api + "/football/teams/t" + n.club.opta + "?sys=opta",
                        method: "GET",
                        callback: r,
                        forceCallback: !0,
                        target: n
                    };
                    t.data.manager.add(a)
                }
                if (n.loggedin) {
                    document.querySelectorAll(".js-your-club").forEach((function(e) {
                        e && t.style.hasClass(e, a) && t.style.removeClass(e, a)
                    }))
                }
            },
            r = function(e) {
                e && e.club && (n.club.id = e.club.id, n.club.abbr = e.club.abbr, n.club.name = e.club.name, n.club.shortName = e.club.shortName, n.club.grounds = e.grounds, l())
            },
            l = function() {
                t.localStorage.setStorage("userData", JSON.stringify(n))
            };
        return i(), o(), n
    }
}(PULSE.app, PULSE.core), PULSE.app.common.scrollElementAnimated = function(e, t, a, n, i) {
        let o, r = document.querySelector(e),
            l = t.offsetTop;
        isNaN(a) || (l += a), isNaN(n) && (n = 100);
        let s = l < r.scrollTop;
        o = s ? requestAnimationFrame((function e() {
            let t = r.scrollTop,
                a = t - n;
            r.scrollTop = a <= l ? l : a, t <= l || 0 === r.scrollTop ? cancelAnimationFrame(o) : requestAnimationFrame(e)
        })) : requestAnimationFrame((function e() {
            let t = r.scrollTop,
                a = t + n;
            r.scrollTop = a >= l ? l : a;
            let s = r.scrollTop + r.offsetHeight === r.scrollHeight;
            t >= l || s ? (cancelAnimationFrame(o), "function" == typeof i && i()) : requestAnimationFrame(e)
        }))
    },
    function(e, t, a, n) {
        a.videoList = function(e) {
            this.element = e, this.initModal()
        }, a.videoList.prototype.initModal = function() {
            let a = this,
                i = {
                    parent: a.element,
                    selector: "[data-ui-modal]",
                    openClass: "open",
                    modifierClass: a.element.getAttribute("data-video-modal-class"),
                    modalContentId: "videoPlayerContentModal",
                    modalWrapId: "videoPlayerWrapModal",
                    closeText: "close",
                    openCallback: function(e) {
                        a.updatePlayer(e), n.style.addClass(document.body, "fixedBody")
                    },
                    closeCallback: function(e) {
                        a.resetPlayer(e), n.style.removeClass(document.body, "fixedBody")
                    },
                    modalWrapClass: "pl-modal",
                    modalContentWrapClass: "pl-modal__content"
                };
            a.modal = new t.modal(i), e.modalsController.addModal(a.modal), i.modifierClass && a.modal.config.modal && n.style.addClass(a.modal.config.modal, i.modifierClass)
        }, a.videoList.prototype.updatePlayer = function(i) {
            let o = this,
                r = i.config.modal.querySelector("[data-player]").getAttribute("id");
            o.player = e.videoPlayerManager.getPlayerWithName(r);
            let l = i.config.current.uiArgs.mediaId,
                s = i.config.current.uiArgs.contentId,
                c = function() {
                    if (o.videoLoader && o.videoLoader.element && o.videoLoader.removeLoader(), l) o.playVideo({
                        videoID: l,
                        trackerID: s
                    });
                    else {
                        let e = {
                            url: a.createContentPath("video", {}, void 0, s),
                            method: "GET",
                            callback: o.playVideo,
                            target: o
                        };
                        n.data.manager.add(e)
                    }
                    const e = {
                        title: i.config.current.uiArgs.mediaTitle,
                        category: i.config.current.uiArgs.mediaCategory,
                        description: i.config.current.uiArgs.mediaDescription,
                        date: i.config.current.uiArgs.mediaDate,
                        duration: i.config.current.uiArgs.mediaDuration,
                        contentId: i.config.current.uiArgs.contentId,
                        hotlinkUrl: i.config.current.uiArgs.mediaHotlinkUrl,
                        hotlinkText: i.config.current.uiArgs.mediaHotlinkText
                    };
                    o.player.setMeta(e), "undefined" != typeof pSUPERFLY && pSUPERFLY.virtualPage({
                        sections: e.category,
                        path: e.hotlinkUrl,
                        title: e.title
                    })
                };
            if (o.player) c();
            else {
                document.createElement("div");
                o.videoLoader = new t.loader(i.config.modal, {
                    init: !0,
                    loaderTemplate: e.templates.loader,
                    append: !0
                }), window.addEventListener("videoReady" + r, (function() {
                    o.player = e.videoPlayerManager.getPlayerWithName(r), c()
                }), !1)
            }
        }, a.videoList.prototype.playVideo = function(e) {
            let t = this,
                a = t.modal.config.modalContentWrapClass || "",
                n = document.getElementsByClassName(a);
            t.player.playVideoWithID(e.videoID, !1, e.trackerID), n.length > 0 && n[0].addEventListener("click", (function(e) {
                e.target.className === a && t.modal.close()
            }))
        }, a.videoList.prototype.stopPlayer = function(t) {
            let a = t.config.modal.querySelector("[data-player]").getAttribute("id"),
                n = e.videoPlayerManager.getPlayerWithName(a);
            n && n.stopVideo()
        }, a.videoList.prototype.resetPlayer = function(t) {
            let a = t.config.modal.querySelector("[data-player]").getAttribute("id"),
                n = e.videoPlayerManager.getPlayerWithName(a);
            n && n.resetPlayer()
        }
    }(PULSE.app, PULSE.ui, PULSE.app.common, PULSE.core);